<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #1E242A;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #1E242A;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #F9FAFB;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Unlock" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = false,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9524d2b115bbed6f7865794d661e41274f73b1bb9428c69111f6634c57fb06eeac5855eba9301ff67cfd4ab4da933eb837e03cd3bd2eb9156304f3bbbf41e7d7fb5b4314048af0e7fab3d4f53d5d1537bdb85164d370c138d9361081d05d40f9f7c173d1ee5d3b2c84fdbec9f744c7990b18dc9b935f981a190af1c49fa573d39a39b31ad0837f91ddbafa0adb6842b320fac64d60e7a7e06804a5a5c471e31c76df644c36504a0c0062ed81697d372430cf0eec2978cba2de903e761cc01b8d742b4e6d0819bcfda18f53e857a173f17bf6f295a538dfbbc5b6535e85ad7997f8a4ac3f53492f9680b00309dd0416ec644308dd958718233625362e9181b8ff02e6f8adbb7ff3ffec117f08278cca308b7e8836dfaf0be9c033c50f457a0582af2d5596dac9425d7f5120203a32a71c7d4dee1fd4f01ae3e3b9bd253104f97c7fa54955cf8d5ae68c842c54c14c6dbf8469679fbf8bf36b5db897973ed401731100cf8e217e4692c57205327a0f728f88a082be17fe24598343df2e36546c9e65fb80c97166766f022519ab53ea202924ac693b55ec825303923ab006ad035dc33eabcf80005e2d5af9c233b717b030abafce86b0be9c01a94387dfb3c1a702b166bc2a4131782820dfb2b5696e5b67aebd81d9503a62a382e50dd070741b563bb3b8ad93d4c1f45a5d1400e547e25c1a9bfe030cf34e3e880220089fdef3351eb3e51d825c184e2da552f8a38eef145c1270d3ef1137ccc656a3471a2862fb9256657035b764b6d1f20957fd714254a39a48472fb04fa1d6e288367796e56717f152139fec51bdf856f527874d4790848fcc82f49e9b7f04facd41dab4c57b8e8d45d42c35f2c5210b9a2c3a757b30b98839f5d53a88fda3947166de674439057c1ae0de24516f9e2aa42a9a56175c91329619ac2b1b4331526404ee96ec108eacb4dbcf8c7d459f1328526b79485e08dc85b96314111f3b923d59a12e17f8cb73741970806add3501de2e7868dc1f03111bcc7a37371fa8a2eb4befef8cc4ce9b000d9686cfd3f3f4125e7beca827e798ae564fc7209fed2bd7c304b77b06581eaca3d56149f177b2c601187ae45a5b344f25dadbff945a65656c5059f929a5ad781b4e19916610a1eb11bbde04c6b6876360232d7901727c8c745cb63ed95adc25f693eb428e63cb37f5008afabfdb279a1e8bb776ca33785d34e145745fca673c6d9439494a3be586260e823aba7f961412a5508a5f8a5a301993981ef6a1f08846c802490053c3cf05951cc0ceb55af7130112a0a9142db4eddc37b69c716c839b3d347ad7530c97149346adf76f71de77607405298f2d91cb50cc30e74db0c517098c981044cdaa7a519d4ff416d054e3d5d9f5dabafbd2144df29dfedd325a6ac914872040c0f680b691faf0848b420898b9ad1be097f2e96f2197f6fa9f73f51fec3b3ff8db27b30673c413db156f85233e424d67dab6a0c238e8b45a8907f9667e4fbac2e733e39e1f56c1461e117695d433c36554db191c12ba0882e2627b3a2240f74d9cf9211db25bbe06f0b3218d5afceb9bf5b6b51436bf3230f522f01b0e40f6ba70d301a9a81853f580ccc35c44da86759e34ae7d92c9ef54f5f8454bb6e305f8da4d232888477e9a1420df11848ac80199acb8a7cbc039004e84a7a622968b490e80ff43ee3a2ec942a23edc11801d48c811ed307907c500f00105acffae2968579d54ba8c3fe9c3a8d126dde16db8d0df669899e84171cd6636f9444bbdfe550251c40b12afe4427a886a57811647a02b3e03715a44fc4ca0473e67bac57fc1ed0559e9b4a0aed6ab6e0778124dd718ae73cf435713f426738720598535f7176db91d24c1ece29bc1b304109b31d6007bf7b74db62c77f4950e4fc72d162bdfa35315e7151cb19d8caa6d628a50474ca8200c8fbeb7db70ef41898e3e7b1a35509e35a3ae94ae84908655e8af33ce8ce321fc69dfe75c29d4c7f99a386870f5374d2a3c7976ee3750cb13c491430323805d4f51d0b8210593640dd51bc370fd1df135909612f67c993184ce16f81a5645125bff030afc2a639d80ca135e07597e83c51e351f94abcc6849fbb038ea5802d1a78f4edca486e0f0feecbe1673479ca745e93e4d70fb6df063405f872d5bb5eec6e24d4973c8b619b740170086ee10744ce177e058f8737809cbdd80727316d5a0aaecb9eba46f16598e8a49b143b685f252d9bac862508f8ea8cf06f05f3427a8a58ae1ad1bd1a057c195b8953ba968074014967e05bd5f030b312fc8c146c1876dc7cdce5e6ccd7c36e2b6dcb00046c580e3f42985fc8a821de6a55bea65e609a273644fc11689a3eb6f6ce4c9c2fa1e898daf4f68e74c1329343fdf051f81c369aee401d438a883e84c6970331ef5e1f2a6adffcc944ab4cb4dd737b8225ac435a243ecc5f0928ebe4fde2e987720861e53c621c4cfea6fb7960fb1cbaf573f020ddaac09a58be3b7ce7f5c7893c8612b24a53ee52f4e665b318fac9d0af9e5501a2b8a039da3be96c9f4e0e3c3a4c35ef5659dd73e56581e81ceba5e6636d7718d702ba0a2fd5c485032d3c74a84d6dc5a2a3c75a38be5e32d68fe98056dd008c6e453f13c001d6c1e50f5f1ec80751074fbd3c965ac0230a86b42a2fa2f87584e13f05691f59b2f8a3d609ef2c1780d837168591d89f556a1a6e5da2ead44c627b63b826b0242288501a4254e85820e99c303222627867b0a5e008152ca2f773e5472f1f4f24979acac82c52f39a28bef6faea67f50f9e26833c0a2779cc0c407ca0d87b92e9c417bf65b80d6163bd0a430c7d779d347f6010817dff8a41577fe59f2c1109f4318e385eb23637d775a6f717c9f2fe0814ad0c6d58c474e5561d6ab0496dfbbf89cd397ba9791ae978da1d7dc8fc3de80a0fa602abb48651abd00da457986f9bad4c9a46acce2f9b650b2283ccf3d7afe6bb1666abd3b179450f75300893e3bffd4afa297c6171479de938dcf7b08c87516ca522a35ff57e46db6c9881d38bf1cf75bb0c0f92e0a0264726fb777e83640595a27852c9052ba32c9e3e32bea6c042c9bd1b464216d71a9aa6d19c5817315a5a127a712a2d2c09b4cf1df3bf963ba80d17ce5d29b3fc3b331e167110bd94d189a0b8f9390ca863029bbf93072c2446ebe56fb334b7851c7eb18dd5860c251b6e893a0c4fa07e9767f1535ff207e6abd0bcf6f916eaa7bab1c96cfce7892988c06143e4ac0dac699112143a7e3a723feed77f0b8fd6278855d4a6150095ed1c4bc3613729aa5f575c5043a4fb563a35dde9c63b258ff29fbdca9ee15ddacb595f1a89d71845758e5a314d7e338d42f6a07761ef673942d546da923c0655956e21092bec08ac4660396fb0f8d75796f4819b9e80bdbc8147b086297b975f12945d111e943eb69e3cfaaa614a797b01f1ec51be35a314bba6bccb624e85c7c4db020be76ac1e8b422c24441ebe62049e89d03ac3f2c5a9bc777e181e56b99e43ed9eb592a2694f587c461cd8ba68db6810f5e2bfc63570c4f7d88db7da7c73d1d8f6e476c25379ce811eb811909a969c57ffc343dd25d9ae1a1c80c5b1520afd57b8ae362d0ad67673759355a44ccd4f821acf8f68ff5078f12a34ce5898cf29c8e8e2b5db3ca991e8d2118007d9c529b405af6c2b96638568bade7bcad963c21f2c2567a4b3ac69c25df88a6e17d2d657d8874778257e4f3477e85920e0a448ccb8966658e94f5bc01636d1abc4948e9ac07d0533bc3dc29e5d4fb9bb3f3c15ce0c51ecf5d642d16ef6d78c21b6ce0aa15408be1dedb6a075afb71be7fcc3a390e16ff0edfa855a296bcfaa659d56e951e045c039a8394c8d7d83ce4a1e76541f413146e8bf5976a694a05298d87c9dc2b883b50f0d98ac9d711fbdf05d6d769fb946a682657d4b5ca9c3b7662ac4fb1b307e25086652313c922e3c2752e85404183a8099767049162c56b6b61233f91706bdf77bfb134e9c36cfa01e334f28a7a31b96d3a737d0ae78653aeffbdbfa8ff142b5c23c1ecb02784c5ee3ca80bb3bf9136d6fe68232e5d5a0a8915d15138ebca393f43eddfc247e5f281037cc8f738a0b33b1ccc6ef971c5d11e923f9fdd07b24700a503a0b2393856ab0ca02e5236ea8885fa16b51853df22c8f49ac1d8fae3974cfead7bf5abe85c672c59fdde1ccce24793db272a84aa3f6c1f8e70284b806f5d4e2cbde0e3c93ffae99cacf59e691d94829a738b2fddbbdbae43e04eb309573c6e9402a443c3c69ce4ac2d159652e7ca7fc4a060da51b6af3fdc5c4ac3971cf7f2a61b4f2fe1039b619b8813a6e6a1807ee8f02b84300b204b08dbb062858c8e938f1b53b34c3affd854c693a89a68e5427a05fc69fd95d2ed88950e579b29f49a67c14c0ad711ae367a89246739cd49921417f1aacaa25ed5ac29049ae38287fbcc70e4b9d1138bd32344a92e34fbcadedccb041ab2aaf4b08d687c085797825eb912c0c2f93b08a85cb79bcce12d8291689ee9ccb552895e37ff46d4b56dbbf73e3d5792f56a02a22ef715f2e0f047fcb21d43bd8057032e9a5825738a8f919c63408910dac75fe2ee3299773d58390779955f6a9e19e3d8898c4e2bce692672fe9781e48306ae8e12aca9f247d5d3e812871aa8d21aaf903c23561cc8378b268a374d61903a0c8cb8c2ca20fe5cf4fde99beb8247e0b5be21b8588bbeccf7c86fe36d31389541494d85ef763d3ace14cf86deae83a4bf2e81377a3afe72f112ff15e591887094d8da9f3f69c1571fd6e9cd771b7d1265e23f0dcdb21073d8e0d06a813dd27cd0084dd21206e660e6c13d02843446b810d35099b54cc89275ae407966071595dce2c4d66199af22be14ba49714460556f85b217051331aa0268586e13d8ab5a5ae9a0f95c37e6d91dffdfb224ed480fa9245c20075a0b0c737259272553c20e9ac3d2ee7347c07b61d1e9ba1905f8a853d06f7b1bf019fd1de20df3f4d9640d8cb077a178db17e558cd204f3c03bab129d58fd3a18decfed6a2fb6101793403d14f030e04e5a44d61fcff07835030fda4b5c5b528845eee4e95e11d6e84906fe6d447a75fa9558b91501632b6e7804f9e329213e13bb643c084c1c5d0482395705e3b44e31f850298717359a754c97e851c93eabed0e5a267d7abd4299adf7aef8d7c376ba266101df2cdc375f520386c9942e8a50ab774a2069655ffa07f19f2ca2b8d69d7ddccf40d1b3890156abf258425d374c1a781c4b4307a4a37fffc8e0bb750e131030de76db6f95dc4e9a913a5c067a2f3c8490e364dd73926e656d87ac3458f34ea9c58fcaa07bc1100681c36934afd2a54c41e668a34ed6d9c5a5b3ed328b8b0cd4304efc0b11223f0ef9222cfe312261307030810e70c9d43ccd47ba8a81db4a3a9e6838c08fdc33f1d44b7ed2cf2d1d8e4a73b4b9f77c72b089e7bde4dad5b6de9e3f1cfd543d4603dad8478d28e465e3146565e8d7cfa1ffa5e7481df17f87860f2c84ecdf1ac1e1b3fb9f746177dc974d2c3e510699214153d0958208e70eb41d269b1272d48b865105b3f5fd01f06ec554d17c362ba583f114d2e6536bf2fdd6674585d915b8c6d15390379bf22152df36bf9ba46ddd77a0a23697038a11784bfd3b5a160188c4f54555c185ac60d1952d700fc54507d845fa5b489df9fa9ea4ea39357f5192df5ecbe917185de89a13e1dbbd2ddb99c31d09a2b2acabf9f4b7d76ae719c136f3bbb16022eccb3e088a0b866b484633f059dcdbf05ebb93383bf6816be4f6ee5849d9a3380d2f7cf84de5d91d06cfdd08e007553eef025a0c71e33bbcd49d55949a9a8f618e609c3ffe88e74401617f566d3a6341052af732383ce0805768f9ab81768417ec40d7eaf79afa06db926831bab0ebf206c1299a155909ccb0151164ca25ff738b900aa0f8d3267e3af4e392c4f4efe7e6bf62d0d5b2529fe6850893c35f0e552bb3981be9b93ced09d8239d1aed6ffd59b46158abbec2a4af53c21efbf8abde6463c39e15876bad088b9a1ddee0ad46e791bac4eab4a5e10552228cdfef48e417b9cb81abc609b47afacb2a78618652006ecb319dabd6cc4443dafdb561eb8ce68769c6b7700cf4760e06a5e885abeac9d41220608e376763022d3d7f3e715566a55ed3d79cd5bef13f66a59d154ac7f6eb5f27ddf4766dfe507fb54cb4d41609f91ebbade20dc3ebbfda2949e511523493687547a4b19dae08bf4d69402a0cbeffbeef5413687a5e06d4156f990bacebf774c442cbcb3ff14ca0f64356b0b79bb2febbbfb906b07963758040a9dbdcdc308b53954c6ac9a2ea4caaa1efd288d757a28f5c8fb924aba2536e39b5874a891cfedb5df4a255d716e5073ff43389e58f674f5c13be85c6fdd5b53f468320b4efc2b2d0f378a827566e0a9fb31c88dfbd16b624a063605f335d77e9955cbf6ab3dde78529c027d5ff5c652e88726db595da5a1d941e8335dbae5e8affa21f40246911ed19a6b45d9ca01e5db1b1f77aa8a771d7a19919b322f085446ff318dfa4b0e470c18783089a30f96677c07f766d2216237768521bb3b6955fc0f12d49bfa0b169720d478be11cb6c939e2434f422647842df897e2a2604f94f4d3369ed1b6a0aaef7470f38dc3e939a89de33ee9ce4689cd1a0dd33d3d186b7bd94667f02c65a744171bbece698c9eda59d929a7b93f35af361f2968215c1bb6d0e67a567187a7b5f5538d6b66d5fae6578e851b021f51fa02900a5fe3502ae2b74bfa7e71fed0d0794cb312ac9b52a6ff6d42a934a57fc560f7efa9391a0458bce6fbf4c40e273c7c64090438c2bd2825952c32eb808a224da18f57e50af795052e0afddbd06a37a8420da42031969c281119fe0423bab51f182da092a7eb8511241edbc6932f2fabdea87b6ff0a65ffc1662e25a5644c6b71101972b7c0cac72dc36e4568790d0002c1cdbbf5ec01ad482da9c1d8442603947f5b598dfcbc304ea3b777e590154e4f0d27ed36f9b91f597e5c58d734116cccd6bf8b987499144796e278277d3fd25a68b081de25a11f35c654dabf8e6da2dce1d98136aba5f2e0751d36ffed46db25cb3d61526071c7ef214068c175820042b98e9f77a3985564d5786a078b8d173c23940d962f0e19bb0fbc27f085920496ba69da8674f1c5c5aff1ba5f198e8484b4d44313403257788afd65070794f5686732b40b45700ee2b94d1cd94ec4b4edc0df082501dfb9de8756fd2ddec6bcff83f70d2c676f65ee5e769c6c43091b1f37d63b5c29f6ecaf9bd08f2df96ee67eac90a79a32bc8366ff46c046bd8c42c4dec46ab15575f7ad8b3c384f4a66bd0775c5103451dc9718654ca8b632bd9fddc10ae5db36a99d8ca01997f867b07a507e3b4511f7494539e3d45f2f5035949e639c3b400696265eecb531c8780f2a96d3833adfb9406fea517cea439c784e80902f98e71fc07d141bbd866823f3b3c2275830f1921928b976e51e72691f2da4dae695f03cd6451721a0d1488f8c8c6e33186cf1354f1d1d1e2ae683d35d8df26c7c55527788133cbad0cba111d9e47d58473ff898870cd6aaab2eebd5783c7ee0c3c9f0b294256ba6af41c61e7265781b915ed98f7229a2f148dcdf509658ef16ddc9e0b13e4bd66f0c38c595b45e658bd13982c0b5e14ca8ad0083af20bf9d8322e0a8ae720b5213861271efdee52885c8b267ade8227b39e63ce5b0f490fcc12ee26ad7c8860d3045aa88a3d8f4dde705f646343342aea2727ed38d3943200c4022c7dfb739542c4276dc910181b9f20a558388fc3d2076ed9826ecb98d7f10431a75ee884c73fb18a51766fe43d926527c817c55058e7128fca8ded66dd7a750372548312509746727fb5d4f2f08785e9763a0d812346f48333320f7c07545f5da8727c60ffae94e2cfc14bfce034c48911d5f4a036fd5c77e829ad010f47ef0b4d70f9be9e19dec84565c96365093d9907c61bfcfc0328b95efc1b740c760c12006c18a1ca8d20502f5ae37b45dbb78d2f44edd735bcf0f5adf097427ea752d7e5164bd206b336be594d760abac0ddd440b3b51cab1e4c77c79b0a3594a66cd4bfb9b82f6fec61e5be4defc1be2cebbd7c39ec7c404d477eb9ff8524821ff04dc053c6d7569e528d8e11f1b0984c530ca5f42a72fa7ff07489fd06e5b0093e54596b43b7bb5ec23ce576cf3ba63faa750b7598baa0f3766da1ea64d4e6a8abf7bf18e72759258ecd876b435430114050865c598e82b10caf97d609ac189bd6e1869a722d0bec7db95043d281fb20354677cfb64e0287033615c5cc61f9a6174eae5b28ce972a7ec1ec1e1a204dd4dda2100043d33f91f6e1e2846acbb8d6868a918103e70cbc62d4d8ebbe7918813a954eda07e432fd5dcaefaa3eeb44272f0e77b269f056db0cf3e3b36a4923c4d8ec77f33a7af9721183ba25148e9475ae98915ff69cc38419dd7f3d22a1c4322dea5f94deccc57b4933355102843df7ef5b511773a94801a8d959d9e4b346e049b62642b13bf7e6bba14465a0b74b037ad961ca03f478523ebb2936ec96d78ea2be2a3546491d63ea94afb4b6ba3cf8a2ac10e0227f398e37eef791946f599077342ece2c43bde7cfe9e5c7ae03d23b6bac9ddfbc67f87a211f215dc00237cbbdf8f2b9e8d83cd1db19e03736cb568e49257d7ed5061a09d8478dc3821061d92ab3b1c3a82df0065db602eb0f966f02d96fc483dacefe32adbccb46c4be38da498639f8c79a554c1ca1e5f91cfe54ceb03cf87c94327a37971742e5bddc92378c33d4d9f390555adfa0d4505783ce5b72d815529bdbc75b1e6259acb788d423bab348c6b30713ed37e1b219cdadd4b86cbe975adaa7fbefa8e136a9fd5167b093337264fc0c119ab70b430c7276ba8da5b04a3282f28b3861eacade53272b267ed39ca858730d8854119079a7a6d8cf8dad4e9a88fb573dde0d6c4c524119d8318d018b5b123016f1a216dd3803e020c18668220061574a40b7fd33c01f2f271e50b59353b5af8e1260e91d191312ae4f9d6944994c1eaa4154f6e3eedb518420e2401f504b86f1a0f77cb832aadc610763cc492a2d7ac3ed0e3bb91e52ff9fd7ad351e84039fc90b0944abe8ddf3772c333e182efbd7aa404f1e2c1dd76b03c4db0bd7785f3076317bcfd26de38c5d0d6827370312bbe76352c4e8fadc9fd979b7425ac1bf0136ae57512a4ae2c77add059f1ff1f733c43b4e842648efd020a4ca904afaeca07b661afddcbd832dfc7b8e4f339d70b70b8fd4e637c6b66f218dfb8facd4dd3c5e3b2c74d3dcdd85e75263e8e1092466e2e725708854cab5243a2157ddcece2ff667146e5b6e72a3f469ab9cd384a9579fad0c708d9cf3237093de22474bdfdf9377c666dabe1dc41490f499e9ebc673f235c072961dd22e0d8dfa52ac891949b61f4b16a04f6dfc1adf3e7aea1c097e17185329a184ea5eed258b8e173491df2a0c81e5078b43f072548980bfab6dcf49f76f7cb71fe7f26aa0791cf332f35542b9c91bd454e5faf79096cc2ae27e2edc8de80e4dc1d90686b3523c14068227b8b295ed29b2ae2ceb43e09946c28efbaf230f48465745edbb65d1d119e0fb54f6d2edc8565d7185d2e23d8b0407316cd3d86156c47dc1547a83410e3f3142cc8154a4480a6f74a99f352e9f2000d89109a32ace31f8e1ef64146bb619329dd02cca999386646157078e508c8c32c8f93fe2f0097c4245ad645a0f5488ee6dbfd97f125809ee2280190e3db201862bbc570b6423f2ada19f91e2fb89119f5d4e01a0b7b327bca163ff4ddc386dd2a32a375a812795d5255bdede27cbbbe79c97cb180a306712bce9f9deda93683011c2476c935cc402a1327dbd1570e3c05303013e1afcff5d07a77b9fb3049bed5f653f41e2b793f543697bbaf0df4d27abbe4546e4c9b20653938a695e9240bd6c05e051d4ab87afa4deeec9612145c98ba5a2ea4d85a00821c8c1fcabd4f1df8c0f94ea9a43416844d979852bdefd58c0a8b044dd99fe15601865317409339cafbf2b60d5fd615326a53d6280305bf5dd756bb8e9fc67cd9e5fde1fa3f76ba567aa47369018f44924368340c6d9592502dda709c943f240b0aa6647753b4e82d4979a1bd2a79fa6c4f7b29e4d9956699d820119f6ae759554a85b6e5e7fbdd5ee208755d50c2dcbb2d1bcfe90afe0a1df053c57b9cd09507afd16f8031337acbdda496be4c4aa26cd4a6db4903e55bddee124bd91466540c95e49fe4921fe7814eb0b7037a1002ef651f8767eebdea6234cb01f4a54a788763cfae41769fa16c7d296b74ccf74e7a311333bd758ba20ffad6508a58b6edd713cdf931007f5884baeed99792329c636a1576c05675c75109ff98463aa53bad1f88434dc3722505a942b370dcc8fb984f7369496b7706fe2104e870aa5fff0a58a4afd5b580a01aba997c23609810efb84e47056832f65553c0bd2980017f0f136b5704667f1e6f63f0350846a63dbf049dc8166185e1b541dd976dd940f75028b78f96d60b6f6ad0f0e5e8324416b1f108335da949b0df7f6b20fc4a3c74df4dd4b066532d2009a8927791782fd30d60b5b8a15d2710a887b571d3e180955118cfac8d5bc932b6d9224ca55216d335d120fed6fd23409ad771522e4d6c92903059e70aa8b3a3aa09b2031fd8cf50b8cb26b076b5c0ddc3e40adf722299cef4660240fa8626c209c12bc20b65489611aa3a47186827f3f31f4f9bda930946933e39dc8f46c95c317bb4f296d3494e172606ba090065b7fb87b9ddb10232d56ab6d18c754c0e7e17063bda8122edac3133406b6d3ea3d2bc7ddc25d7ff89fb2fa11a49bb41ca3f8c1fe9aaa3f7f5967679dc7466131735f7bbe7bd8cb957e23c781c61bc58a3aa449adbfe467e88bf4fef63a36ee47b29aad37010a9e84812255ec8a8ed997035f6085c069b6a43c281b99433c2c9e2481e52dc205b3506680006085acde67c0d9e9936f00054ef7ec320a8f2815bb89b39141c5988616fb5671ce3747f5890f1355e88427429583285073a45ce7059d5853e8f3be1c16eb7cdb1c4d7c5b320e49ab9c60c0d340f428ae920f0377d3264eb3481d7123441d3734c2dd40808d422a9290e30b8be7b3738fc868b140c05569a0dd36d75fe989efef6f4d271bbd57bb318d77d37c94d82191f93a1cd0d0a8899e5206b18bab8155a38646ff197e29db7efcd95049516b76f8fd829fc5c15333b6eebd23a0334dde2f7c4453ae515271e09eef201b98a9da31f5447a57403c0a5ed6f15c78beb7d7f1cd304dd67e7dd447f713c4311c0fe25587a72e54d5c057da8ff6d03496f77c287f0b92f6408bb7893c24e4d03a39090974d64494e8ee39717c8d1c39fb8333b7035985f9acca1681ca79be2efc92abc4b83fef96d1ff346c16f389fc11caebaf7c0e90b10d71f337a2585c109d8d271269c0fdc733e4e3d77dec76fb7e817e589be4d720f61501b1e4bd6232ef23e5a1378fde07a045c812ff96f641885eabf7f08ecf129e8d6e282ba6278aa45524109086cfd82f4e28d98b46c9cfe9db8ee89b8e844849f2b4ac7be81d14c8ab57301f09402a5075f809b7b80ce7bc27499e08a82966e17a32e4454c4655a6138beb35e1d298f4f7c6bca92b113fe3849a229d2f035f93d54b59fa922e95834e437b863942de5bea14ade4a02c56ae173d86c1a2aa86d0272743a1eae8725e9438dbbd575cc66adced6409db70c83c9223096f38bab4d3b64ebfe67d307d4085ebdb25cd7476b9651e6137a61255c2765e562cd78a3081b57ac7c5efa14dc719b90331b64e6dc7aafe1707b5a1b0249e36be7505c5877b82d6f1d1dc0828722c3f995e1579c92f22d0fb8ede957e723e89d5b40ede80659cf279776f76563f55f65eea0f845f00ab1559d95c3d333741cc2e0feb7935b51e58d8ed3bf97fc9aa794e6d7a6ee124149fec11038b2a0ca9fbbba83b0b1272dbb4c8a5baeca9bbffed32dd2f775f69190c386fac8f79ede8d3c1262de3b0674118cbb382aef509a16f1dc202e0edbac46b63c521528a30332910d9b66b9382763da2c8743123c39cca8356e1646130eab18b75113e662bc0ba7dc1972b398b9f435d3961118c841e514f228ad220d14aec9d1a75b1f75735564dd8ce0d7dbc7bc92ea09aac56df277697dfab9e521b81cbbe355ef8a7134644c53905f88fe4a7bc15cdb8b32b53fe9c4fb4773415e1ddf7a9aab48d0b53ef27a6c9631f37a54004b0a912813ae0ea2cfa8894bc39efa31e7ba53e3f7654a7afb854edd2ccd346c1310d2ba7a9b1211e856639c2b0d218a1b9198e88d2d0ab527a7acc0cba372ab6a126eb8a61d4f39de1c3be7eabf45a91b7fb012b72760cfc62ed26cfa077729f816a706d2aebd51808bdf1348bf7b2834f241bf68f65767ce9033702a589454a1b13d5f819ed09bbd9aae938d0a7b5576ff7227a7e3b6dcc752096ce8a0cb0c83b9a38940ca9c2ab094386d34fe3bb1f9da14bf7719d988f2210dafda67ad952f04e4c9798c75ab834a5b934f7faff575939101beecf64458d4858eb81627680f0c0087d50c742bbfcf942dad5f9cbdc348e488d7cb370c0b50935df18e65c5c87e05c54b4db5b591e8b9795dcf108aba3b77fbb2bf522abe90c9f63626de204ae8e1cbe543371afe26a902e5bcb1e95411475c89e5074b6cc21f966af45ec3cb0e7b2935e094d7febdb3b34f145bea90591e728c4dc8f0320e5338417fe69f74a6cca9e51191fb7b828aa45f69e192fb38a9d6318aeecb0f90541731d4d16d2dd847c871c6f2843b2cabb950e1106c1063e08d09ddee5b63ef4b1b4741015d0eff3b6c53150debf20856e59299ff4430e30882ea1e0b50243368331d6c2b584dd1cdf05809fb0917ef470d282043630537b9ad69076cf7088eb538c475211470ef5e2c0889a9209d0a18516e0050d8b77cc42d9ac2491996c01750db8f38a3e3b94d95edd99fdb8c9b9190fccf460c1d0cf7672f4275126b9f16678869bb5a0f510b89f6f33f545c4722f6fca254dd5ea4be03ba2cab44f377504df32a90be8bba6b48d66f213078ee9b95d43ee049d09f0fcce95a59af4b7ce90573e405ba3718d27715051895c0b6d22964d5adafba6861ccb4b71544699ac9e680d7b31c8fcf5bf330eb6c066e1a2ca6fb3266fbd908e3c4f68cb72326b47cd552a4695720c4b5553067d33cae92e9cab92db5e76ee965e1969a27f3e145fc87bef71b24956b329132456ba5ec01b0ce5153d501c3f149dd8da1ca787adfe845a9826fea32285628dd5504157f1c271526b0e660fcabcf9355d48ad3b91deef5ccb0d2b59954d9df4dd3f8d88b25b8e22aa77a4208a4764b073dcb1bd1fa6e6d6a2447e310c564c98b2c15949c80d7c2c9d011806c3f119f11f9b1f46d911021c6c4f90f9590a6cdd798476b86e65f62b6daf486e8037f396d9fd0cb91711b8a19fd5793a6278da8c429ac08628ad1d75af98cbcd0344f81279f1430369f9af0cd7d7034bfb5c3d2ece2113c551a7f66cf0fc2f92ff7ba951c18013f9a7f611c362562cd56f33853c465d4d4bb47f8c0258948a02e32923a2ad3a176bc1e00ef23ab9e870b144a9e140a1b23cc6b4cc8c959e3291de64bc97fa558c41e744c1f7d1b93e374e3b58cf29939b3764d0dd5a4b822758ea6fe9978a8f859e07ba682668c67e60730e49e56465cfc896408cc7d44993c26c3713681fc7cd0602f2999a200e24a8de0c11c74a049710de72099793bedcbbdd5072523dc4d26d59ba205214d27b09ec22ae69977ca73ce284abc861734d8f7341d7ced4c80210920dbbf20653b5f655f2e535585197073461d8f41ec5558d1eb118f56de078d3e38c65adf4bb058bd3e6357ff469e073fbe7f278bb0bad082681383cc5a6ae6f290d3140db49357e67eceb3ff790b04ee6d297aad65a8910c84a81fa2a330e61d5df2dadac7735bc5c0788e14fb9c5c20767c45331f69e1f15843c86f19cd071da195857950cb0bcce396a21b3e536420b05b20bbfd76ff221bc8d8c62a6961d08c5503aec850ae61c6d4e488cf74b793eb609de01df9c2a332088b6e957934a9f3fff4e42a940771acab8bb6310f7eda13a441bd9c3b79e742bd769bd337c35228db54c356617d8b66438315cde0bc7101efb43fc586537cc503b7e5ce26f8f405600fa65a5f7748231389ae649ba435702d4016e1f135ab79935c6b87cf4a9d303d410fef25501f50a44c507cc4d37d8421b2dc19b08c2b3e7fc79ded60359e4325b561b78077485e7f30c76539d7ca687dc34c9d2b45babce310f514522ad1f4f107ed1ce234863ec4091f663068fc0fbed7932f93f7ea570b2ae2b52753534005d0a70363f1af768c9a5999e82d0ee00b851c4731b1509e213452ada4a8e82181c0ba07b153758a1d72be1c44280c1d08b9176102ed7cde2785f1bf38bbeac7992cd77de417ce34978f0c0114f6d4e078da9055fa294e8e6e76839074692090e8097c1917511f398fbe3493ed038caecb0c8256f288c47c3af6cb9e9f18218ab083fbb3f0b9f33fbfc933bc0a7d8cd48d90cabf90eb19e61703001a816397710e316343dd3d1d7a16578ba0b5a0ce72d701a9d6edacadc0bcfeb8c1433856f1e228653e6d5e79193e1d6ce8bbcd8ddee9729907da911a2392f9b0bfb7816b994d2412f4ede282d8cf2c867d1f9de17ef7684ce269a2a35a8bfe123ffcbfe871cffd370afe80158dbbe1aada10cb79c1af817cb0904155ab446a31fce05ca071935dad12a63dfd19bf4b740dd52700d925272ac4d7b0dae11a57e3fc4d8554f5ad096f7fa0f92b4bcbb246e9bd62286bd8470df700d7381d54a02d95e80b124b1cfb30df0fe826ba372c07061e6b0b131b3ae04bb94a07dd94e27f55bedfdffac86ceb2cb6a921dd9cc5738f1f5a15b41530f0b83b93af23f669e6f2d7d8b42f7273e46218d5665baa5c338ecea3d0c767542e7d32d5bf8d436037280a21318687d384124a43f2a09e00b7d75d111746aec3a2dbe482be39657df1aa7451bc6e6e38cd7dd0382b174f2ba621bb723892250c6fcba3b11444f3b683ee1b43c91f4d5d8eb84f4e0fd341f762f4499ef62c8d5b892a388b0db51efe7eec7f7e47dbd0ee31ac5d0b5506b68167001046cc15e8aed60a364f843c6562b7e292cb04260f2df1aee61089e71012351c92e2ada964bd27bc58452161b5e807f8fac9cb2af836c0e6b956049a49edc5dd27c20f236e837627d5fc4f21a78005999d102a46f287622fbdd827cf647c90118e30255bdba50785fe867944a9102520a7439f61e71ada486a4907233160089eab09bd18ba86e48cfca7cf74c54c79e7fcfcb07a92290d475871ab471b64938172452d2114a9ac9a45656df19db474f265941a0430f93b943d7129309d181469be4e720b7a6b341688bff372a6824c67df85415f096924675810df85bbdafa5cebccb28ec1ae59b73269f7a444e4a58c150a3595b0c15f22160bf27cbeda27432d609eff5a5b80c100a5f0d572bdc4c3bb46045dfcf21fda5394eae420497870768a63274545642d16e3610e66e0216e3af2196f8bb1ff4480e8af3864aa94bb60dc79be43d8cce5abbb48d54a7892a9f69fa74d0f3ed4cf41449a65d9a99a0d113fda2317a540cc6a18f527e0a626d8be28c9c838a23b2efac26d028556b0da77b02452343a002d77e219387745a764e6513da1e71c8c3d07d59cc6f0aa9a85a7a3d518bc3931a7c090c1976c4f88bae49a8a6a812edfbb3db424e574e770874b9a4842b44edb92936b1d274092f2a9347fe37d3a2ac868764a1f1f59c11cd91a5c9070cf7551c8f2f254bfea9ae3599205ba4f14c078c23a50263b28a83c9d0db9565f936ac1cdfab8b1bb0efa2fbb9e417c3267a4e2328507b7cc77b151ba8819e281d33b60c278518d671c701acd7c70eb5ee32e0f01442b18862d24d61e1c3a3679b23c32ea664518c09e047a5ff1b7f0c8a4dd81fb6bff941e0a60157aec71b937699a1ab11b65e84fe405ccddbe2b61f82d67526a42b6228185dc7fa8da800d7126ad6b990c084cbc5ab523564816a9177a8d7f99d53f7e9de3e5512b53e0ba1846ef394774167e34aa0b322a54b1af42644eb20dd59c344c5367706be716fddf1b7c32f93ff681b6f99e156f7e840f6a69bbcbefc8d4482def4d61cbf44bc4c1549594a5a0d96bcc36107ea44d754e77ce52284528bdb625b3dcedd4fcbad92edeffe239f36212e1696164c0f4b35ec9680954b8bb3b692fc1be546a9b0bae15357fc09d3e38204a28a9073888268d3ba725bedfac1a56d7f0eb1effd72ec27ed9c66ab1148cca8c8f4932a62d67dc62a9fa018e6ffe0131360a8c066ebbd1b25cad8151f502c40454e52681eecd930e947240a140bd18fbcdfdfbdeeec7fef4afb373884b43f4fd7e939308b3081ec6e27cedd468ccd7042d7240e67b307675f940d46d91b8b4c76cd1eb8e9386357396f519b28eb16954598ba9f68e0c9f6bbc56afebf5c97bfa96cb53c639a3b6bf3bd00fbdf589f5e2f285d9345ec20bcfc26c73cbd6d63a7ea95e59b5399860e45e322fd03ee5e2dfe0519f2ca154f7d6939fcf089c7bf0af6c3baa6efc918052ac8be48fdeb513df1d240791643e642c6f355147bbf0987d9f413235b347cf3cabf4db15fe47c914fa84e18858cc9d6d13d68ccf258436e57deec0cea9824a7ca665a6db7dd6ca1309c27fd71444d1fd6aaced47771232d3ef7c944cf308d032e3da4f3ab4b47295393a54364e019c0973a16d414ee835ea45f4d7bcab04c978aee3a5d51bce47a98229580067ef0195249565b4a8a8cf2b78fd4c0c04c4737ce942b5328f40f1c6aa97164d891323a0515792922e157b97d178e0485e836c6fab791e2035b5981d31fb559a72d3f199c16bd822225a619bb5f86b46e96eb882988b6c32de024e77ba857350641059376d28b030908aeb2159e636a3ee8372b793ccc5f3558aa859e00b482563cb9d6f84350afd4442237eb75f47e4c1d229a938a06328367c6b3cef0e238ed4148d29fdd3b0b9464a75d64016a2e71af9f5d9f4105384c06680a90f2bad95f1d003df3a4fe6e2706ee92b005edd7ae7709c5efd78ec530eb44b221a553ab29690d79fdea216abc2bf3f070ddae356ce11080cb5396c408f6f7a5586371a267051951da1ee1ba5cfef77fdc43506030bc056109ba7d2a8655bd1ee9c3874510e3ac71f87d78f62e353c71c7ac6619f903bd477349fcc4d09a9a8245cdadb76cff55a6e4c67f415887fe17934972b3f60fd58cad225f9c6daa06d17b2dc751125d538e6ceff598595017320e3eb042707765a62d74be9dacaedd53c34fc09582f3ad732e83f7fb11a404c002c42a878c70094812fac856aa39644abb260ab76c5d0a2438cfecd5b29a234083ccdbed9fe800de6e89a4da2edf23a8666a3df1ea8d74e60c6b5c6faf1e83ef5aedd73d849d4c6fbafa7074db69969cdc2fef4d8269248647137e6a9bde11e33040d19c1c61e2fe6551e25cb7a3f693b7e44881fc10130f7814afd46db0c97d17dd0d245e4740bd7a8e1e294175f4ba9ce7541067f4c379e329d84087deac01e06424bd91c252fe1927e0bdfc8ce29c5b37f4ed3f7b7e9b102a88765cd7ff2f9a083605e6253403d69947a64fe194182350ba235aa1dd1c9da8b60ad283362d59c555b04fbf0b2293aa0049748bde82cde965e8f43c96fcfbfbede70cddb4e8ad3ae0114387237749dde397d8927da3767024f9ee0144e88b54302645c9e1007b33e9b1967b08fa933c6a0d7fa82dda77950b9bf55636be12c8093a93fc63b4c2776d3b8a8de3fc797fee073ac447f0e0715801a91603b94fbe98f1ff93b6ccd9faa214434a9f9d0f1cd04cdae2917017cd69046ff113d47a7a385aa5749dc213dd78c5e00a721f424546077d16754571b466fe701414731528e159261f613dc8f8b2d16ddc185bb661da97671379b8c7556fd559924d5da29bf238d67e2c5437665f4e27fe072b89a6bc2b511508d12805dd1f9a688af506df13ae994ee4b9fb1b366b6182fdff71733b6e69b2ba98908c1f38782ef6615277fb1e281566eb3bf3bee2b8369c1e87266cbdddef82281dc572665f1ebc46cbeb80c3781a97efbcf1572e0e1ba53c2058df0ca8351a020c47f0d65bee48397a35906f7eb101bc0ae7c0fdef0903d70a92ba58e40cab45e535a744eee00865346ba300c535206c53941bbdf723a3d7b7b406ba20f10e1587a513ef50a7bd29e94a5c9261f0767da4735d874a4b7cd2912711aa77125f7c89769d1c0cc91d864ccaef4bcbc275426274273e8c9b97ea82011deeff468f0e481c8033d93e25bc48f646b8d745fc63f3bef5730d6a6379a7ab43d2daf2f154fc564bb2c45b511856d8688a38e5439234747891d63bfbea32d9970191efd1f617bc1efae7dfe3e4192d0ecb8d8871965cc0fb7a8e7be1659bc9fbfaf36b134b1e0f422871cbe8b4047f050b87fbb894e77f2c1d84577657eda05d27f929d93cc290529a179794c54fed80bc1164bfea32fbbedaf6c8ed4d377173fed15201c95d394515d941374a6c8d83f77ec53acdf5618762037daaad0383b46eec65c4aae9403d73eb0230abce76b031610578ba9338845600aab0cd986c0bc478e95ebbe2f01b493cc543883fd5fe911f318da1cc609da4337e584736d4148eefbdc0189ae060353877dd81c579731560ae37aeb552f1ae4b958e3523bda7f38d41d895188cc299e30e63719411a19c983843376cf04fc8e983c309dfc55bbbc0d9f14b6944d1ee0d3284d279e082b0ab805028312a82892f9e2ff15394f6abc0996a05f475ecbe941b60c4ba378b4f65fc96f2fa1178f7a591bf276ca96ef2072f1f774497d1392589aa78818ec68c28bd6d4bb9cd3112018a341cde55c13477315314edb1afb77fd474ad5a4fb84995f47cad4abef5ec5b24edde51f58d712a66898b2d0a22b2c10d9eeba47076371c1bd52651b89936f8104a7a808a98b903593d9831972fdd06ba5952cc27a73a40550174e7bbd365ba6ea2740e9e04611d6657a0016fabb12345e170752ed302261777d45cd5b2f5d6ccd80ecce874ad0c3176aab9bd4fee46bc9e83b205f83e80117b0018d74304075738ffd101536e3d05f7e79b23b623b8ec92667336035ce90633ca213b0103dc0535db922aef18d30aabb1a20323239f29cb5cf317d4c782a345d28d4c2d678ab46d0164d7df213127c51065505b62a9431d0e1f81fbfe5ed2601af6b9cabf48355c77615bc6d4b0a4ed6d281fe81c04e9a9a011159dc964bc249bdb9b841cff3a6e86d7ac90c0dc784333e0b3c5beafd3b832586e2af2f5c548","isRememberEnabled":false,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"722b5593e7051e969fd462b4aa7cb773"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
