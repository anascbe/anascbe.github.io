<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #1E242A;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #1E242A;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #F9FAFB;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Unlock" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = false,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a9b2acea2550af7b9db691add961292a2d5d6102a8adade861a0576d0fa4329a65e3699b5e98a00677957e74be4eef21fc93862f35810977e54e5d0c555e36900fba264865519e67713cf1df7b6e1a072b593ee7fa9935c0eac0a909f7062f0c929d45902bf297dcd3fe06b5d3192c1fbe9304246c45ed2bdf7988024126afdd11e57f06b5a3f11d4b4e96b0ea401321a7d324ab31c05e402883c32919c7858a2fc3d1055d8f85d324c7bf4453d888d1847d2cfc8610b3cb4cc5bbf5ff171948ee809f105de212ded6f34c858bd39e394a12e7073ddba5ea3a10cdeec9626f661fdb56bf69c0c2f739641e86af526afcf822b26414c39277676f754bf8b1c32e8ae9bb36a3a55dc062680be373500a161d9742125ff8e8aef125da801342da11ae9ade5645a25c3fbef6e426c2f806c908728689e8ba1960c420a512cb709f5a6e46250b904e08a5c6b4441d2101b373fb1bcaa47b414a56c5fa8e4d41028f1c4c52219f1b48a93be66d6e91ba1f6236cadf5faa6d140c406d91915fe50992b9a42cf29a43f0fd494fa2b09e6cb128d844deb4aeeb9fab006820dd3dde7b76bc202ddefbf4003dfd3ab592d1a834d6d3217d30984b70a74dbb260d540cb59eab4cffe693dc828c48e19939c88022e0c64de28b5414ea247e67a5d5cd07b576581b01b13c3e45c278f55d07df083ba6408443780c3493b1d268de9466f25a5e06dde6e8762e9f2a148fed049ea8a13a3837630af63e2dab3a5cb49b4e67fd9676d31e6949503c6fce85820e68b71eb6c0805ed9a14ef4a4d087f3b08883a3d004719a684479409ec988f11ab7a92131faeac5d1f0c3dac6045fb7a6ce10aac4ff95246573b0358da3358ffb2d9b881542723cae8a22aa0bcd02787e62ca401f9038841c8e4f6000016544ef2e40ad7132e85b4febdb0da685e2950a0fd9fbad4addba4c7c9452d0b1f4bb4ec4a1e91fb86ac0c5d5f5dc210879eb6de785266d92a2d7f4f179615eb6b161833a5ff698f0886716a94c26034a38efee8406f022f9a756f5bbaa2645c7f6c7c3a65947adca8c4ab98486742ebe182b5c42312b6eabec31082b70008655ccec4adc1abb801b9f911d506b22f56b419f51bb34d206aeded43e077283ccd80d7a7957faa4d2b8f9a75beab808156c555104c54bac82e1551ca180091d837b33f04ba6fc58d564601a0b5d8e8c69dbc2b088e83e3d3c69a3bac3df204783f158f80d0f3dac6b76696b08211a053b98648ae52fdac05c7debda151637d0c3146aab1d32abdb1b7dec820627b53dd2947220dee3397463092dc684c416304cd8ed2b047878846e84b6285059f8e7842bded6d84a4e0364a178821a9dcf41f09e04237a7fa9ccc13d5eafdca4e1cc1c75c35e470ce1265f0ff80e405715e3514cd975e15e41985e27bc128b54c0eeddaaa661af953b30eaba0e6eac2bbb237b427a5b76636f0b0cc5caa3a737e45c67764269c6cda96cddd0c7ea783eb6aaf22631d26e61a1bc0ba776faaf4cc456f069841cb3a7cdad1a7b2016ff63700b705e5049d129772154e4400b9fa5ba62f05f1da7f25461988755408432bf1e705e0a6f0f404cff9fb978dc5230416e660f3e097d4da081638b12ec7e5347f7166cebd9815fb5d5b820ffa425162badbec582cb52205a42d702e4cd9c2527883dde102da81a6b7c70174e8ad22720dc63f71a69a3972c5d78b0dc96b888f8be5b9720901a937d2f51c4b56d0148d5e46170156fc3d5cd7f7ddad419b3aa77371e052dcc2967fd5fef41b5787dea9cc441400699c2bdb842ba0eece9cba93595f29ec2af5eeba43aaa2ae1ff0804b154e82e0a61f5544510e76031134019a6944356214b65f1eb147498efe3a0124432bc2dcace40377d782f3820fd10f7ebdf9ac4177899d7370503c8b6854a4e20c3d60b3679f7800cfb43cd4d8286db23cd5a9fdfde48479250bb7ee57e4926e45a8f419b1ea90c21a1245e2c525aaa91b248a6601b8a19655b2e3f772fe42387afeca0770cdc4ac08f78de343fb81d80a93e37051694a4bb2f774b7b0aedd4b682d631d670026d692dd10401d5d2a4c1fca849c1b3bd0f5f2ffa6f9d7d7bb95e4c3a90193bc3a2f2b9b2180e8396809b6e566c69aadd2a21bf3c33803cc684a1d5d18a51d0f855d0085f2e8937c7fdde7809aa752a13d1acbe388f57bca427d9da0b20dc06d29eeb18e2eacfd87b69738d6e23d9db9179b97efc34be1dc8182d87a9baf0dcf2b1017a5127d1ad7a78ff9b7dc8a1520893355ac420419db314fe224e5fdbbffa78fd5f902c504fb9eeb0761934735c486ba403bd2689e5f1a80a9c7407f5a27655ac6f2d1fb6eea5661744e18c2fe34899708a5e1d46dc4e64f142f0530a0528b9877565a85c055c86ec0934da678ddb0819efa9f35422b2ae11c04d270490c3c772b44f38f63770de3935f94b86d653ce483983967fefe27e22fd433a57573d77fe81af2145a417ed4b4eeaa573dee4fcde59a2ce7b2eed7a33b87767f9891d79ff1b6d1887f261420741acf7fad924cb9742fc8ddf8b317e35890761a9ac43efe63b4171555e6d7e6fbdee0ba7db7938675d9f88ac2eab806147a460ebffc29f0d52d1e138b6ec3b6e433ac222f17608fcff4784f0193fead54f7ceb37a0d925626baf5b1cdb42b6093d7be8acb552e61ba52af165736c732d9e91ec860b68c4eda9cd128b0186edb3c6c8a0d8fac0d52235059d4722aa7ec3901735d1c2123a519c1e88b41c73f3e7af6e20468caa3f8e4c2e5a3e8ad05d1c0aa41840e68934b8aa51a10009c9c04de9619bd031c31dd664387d27e78f9d1331ce9136e79fa41468805cf921504650d560b5fb14783067bc2ce1a23bd5806651130f82e053dbfeb6e09c9ab64c83b7f73d576cde89fca56bbbf81be866ce88740ec03f1b1b7b8708b0f47ff1cef159519769a4794ebf2cefc2a1fe81114a932e8f02319438cacb43bc905a09f4a7964475c3519a7c3d92035cba6dfc912fb785919c2ec2e95eb9786aa8fb58d8acadc74719cb3e9a5c0aae96b5c88b396e1cc9a57a1e6a1512ee27c99da9bbabe888c57ff0be75af94593944507bd6e9d17550d9fea62cea8a5e9387a6801fdb7b65f7a3dfe56695a10aee4ca50932c70a80b70a258632a7c6ef65f47b95bd19b9aa1d1c74cc2fa5e2a7f32e90695d9191225dd581462f97110f976f0b0882b7b6d4ebdcb9475b48d1f4fbe9e3139847ce466056248f07a04155d1434130518448814d2df095d5bb526e1d73c9b26f365eeabfd90ea85f40f51cda2272a86ac1f53ac48367419eebb36db2b1782ece2279251c479f61e0a0ebb4d2831c5056a766a644a78f706bbdf66368d6a21b17b478bc04576005e155db3ab7d7f98e793121f1bbae51604795655fae45ab0476a908fc934e043de6fafa25a86022bee9f0f879952fb7e9783f897fbbb0e5203506adfc09e8d312366c6d27d01d86344924c6b91294c5b5ab08274015e17b7207edb61eef0591dff2297bbd466be5c5ce06943d52ce211d8e63e3378271d8c52ce2f6e0a20d7d9a16560ee2421a948cd7e854a965970873d2aa0b184dfc220487e1dc052756e8858e6f769d6e9438033faa84b1d2d1ba8e55edba10cab56c878c4b9a873b3ba8adec3831b948b680d2015c4b2147a3599c51b4678bc7da2622ccbcfd773119be14e9fb18246b46824111de06ed8cec8f43c3f24d3345e15e40410be4e2c0bf4420c718879acea45d73f1272be5b7d49fdfc4e205ba6e77b6fe9accc3044e4cf656eb159d6e22e47078965895c08cea496591f945c18f046339e8e3bd87a6a92115404858740e3c068415ce6f217cb9724b67292a713c4852f2a9f26dd481b8cba668cd349c1eaac833e45f1418aaf9574a096574f9e7e9f82c4c2d2251792361a838f7fe14940dff77cd8cbf157e06f1e57203b6c3babf029a4c798c54297f64167f6bbef2282669447cb0406c34c8369a44432f4a50539dde890b29048bb7d46bf89ca9d752bf3bdcaee688a8fc0b751225e9147c95986db39a5c6b3444c3b945c9b821d1bc31148f1665c84ffcaeda705d6ab74d809fe030c5e3dadc42eb70b3957b3eab1a2f7e61b5d36422ae4d68a4e893341e93bf0768e6779ef7759b364d0d2313eb53c5e9d02c9560dcbb7f57e3059420cb8bbb7b7ff455a35819ecb29bb972c67b5a50b5063d81b2aaa6acaf7ac04e2016b3e4cb7a52826e0f889d7b8ee5bc0b9e348f847f1cdb43fed24e37d9fc115c7e689ff6e99559ef6f1945aa05e6a8e1969d82bf50130deaf522acc5b07d75c9d683f285cd6d070fe28c0330fc33ff08771c502983781db4d7a0fe0dd8a81bad1791016a5876e0872203cc70b4808686b600aa1ce40d09a7b86c9560204788fc29c5880b7ebd86398cc2e760919a24d7dce6fd15389b28973aa2e5e0cca49d0c60bf7caacd64b655a126934e510d42bdb39be5f54c98b27320c37e7ecc89b6ca23a969ad1cd3eef7f8760a1506d99de152572e5d05f3373e426d1478f584ee46ac4606481fc8957e3cfb7065de2c68ef08d73e369add8e9c12a89ac129c2a96a28e2dcb156117e65834485be1845aea35a02d7c0ab07c562e55a9364cde9c4d547112f17b803b9c899feba7ee04767fa6b89c5af2e8dca4565c4d963364768a2cf3561de4782eff0cfb94d9833cda8fde6af4392ec9f5d067d53b1758e132a0fe8ce0ca7baf24bfb2f4c0bff8eeb0f0518fc5e2e8f30a27f41c74afd13bb8a9ae7c40d42ab610bfe8ccb2566f71614a6516e10af4853f952685beec0332c3feeaad81f3c94ef3e41a056cc51c257299a30e0a14f7e3daa2774058a02907b551b1c2dee2bd119df702bba00856084479070d9413d52a04c2e3274d977de62d7ada658ec60008f65ef7876568410cc5054afe0ffe28ac0db83e43a1fcc4ba27135d5369b74a1526e9bfd4ef892d357e3316b53dc784a117e3585e5210919df1c4a01c1192d10545635c46e284c1ea14b9baf45818504e4e7d035004fd39a481e5ab631f71b697ec65cb6e364808e567a045d2d3511ac978c006dbf1b03740bf314abd80688ad49c89f5d1bb83f681a8d06f23ea6c0e8c8f4eca34d3fd7866e9bd9f87185b9a12b6d964c2c100e20ec0b2656359decbc957f98f10e2c27bc279304e36e48e95bfd1cca9b1464e44e71fdb43ebb45d1749646e9aeef1962d9fa5dd85ba518af8b4aea009634b5b0e9bca1d751b4dde0d294fd122281326dba0a7fb7b193b3eabab982d45f8f91306a520abf448ed845c846f087f534b043a6d9eec98521335a3295873b39e8f34566661a32234ccdd152b243b762f7a95f3c5f924e3e7601b36581ec4820815e833ed410d86445e33fb925510213e57db2377c2630e5d99edddd1008be79d9951199a287a297b7d85a9b551020d12b84ead467e53328c90299a5f0275fd8157dcc7a65e2a11fa23caa739a829fcc58b30bc936c5e23299e67665772e38c9edb39e876dcc37f79f7a97c98b07fe2c35366aaf6a11bb2b40b812104dbf43a60d4b597c8244c054b42f294c9f2d75f5b1e9f1bb59d13bf327008be7541011c4a829ae82bb8c0cf6e980d7118dac62454c542c19f59bcd1672607bd7750c2af1091bee22f417266848b9f96352a088ef76f6a2ec9b3b8b5dded46776b1b6de78aefeb1d8f288d523bb682bd60b131a92a527524dbdf34c2f5c529403991f9f64911c49ccebf1fc55895c300013a47600982be441af2839ec618f7fd2129678f29977b623c3919bc83364f7ec71a22174ee27d376e85432372a1788ddbff844301eb18ebfba43ac6ec9557430fc6424730e575c035397a6d39d455ddc83d564abb6013ee8642f25ca813ffa88b90bcbd96a3e0c8ee5b61cc04fba751b298ce0b140b20fcb128d9b514864610a7f792947c6e71c614c3bd9ba4268369d494b88cc97bd37c9f0bac9b3a804bdb2515b3d145733ddd343a192b6361eb26869f830a7d87c81ba15a3d1697f29bd250a3bc7a297e7756cc4913edd74d534b67ae86d2562fc4d758acb4f6eb83f11c05e6ca21263b8575f49e408f7a8adbb648a141e96ae679fdce09c9b37edbd7bb69c0b0edf38321da81209610c569abdeb4a625cb32699296ae34d27b09bd1204febdafb94b04886be473be3149d1e5b40ff53bf1b8864e879fd025c87efa946e5a8b827a1b679351e0490df196415bde71cc017fcfd72b4a7f4bbae09b9e1c60d59b88225f49aa3befe20c3c87e2d0db816b87bc62ce6ab6394274995b30d721742c16f407be4d672b90a3db0f79923a7308ad5663667cc8bf64cf62cc234d7ce9f0057901110d63d01a4e1fcb35de51ec51623a975c6cd4d07a2cc366190e05f36bf79fa8302e6d5315bca331f65d08deb0ba90dc4b4267e8e1068d62a795e3386a4669d6688b3bacf7e0b5ebadda05dc1d7bf97fcf261f407c2c6a1fcf0afa8b50a1a2f9bcefe0560bdfd7f2babb3d0504a1f0fc18a4f3330d4e428619753aba5dbddbd56b222edf9b5b49f847e045a4dcd871652002f52ae36e24235a033f95bdc6d2140384c38f64c04f8728d9f47e5d3eecef09535f97b6cbd8bedaae25788732fd8d64815b190b39db44aa11ddf249373b769058459d9b257cc5a892bae66d76969da9e113b2fc47559972a9c54af30207af2625613d7118bef17a411158b99ff97fe64896d766fa0955d43c0b3267fce7c05601b7f03894274f917f74b2ec618b6a622f8c248d34ef70c847aae5094acb77e66339df81b5614aec6e2f3c3c3ce52fe2b0bcf967f00d131509d6d74422743ed221362f09bc136899010e2dfc1a9e86817e18cd367945927187a0d48939a1524ad049fb871166b2ebe4c1993d14e4057a945343aaa3200f83ff30601461d1615d866da8c020c8242ecc1cb019016fbd190c4becedd1e7b8cd68f2c1b0ccd8809a282d4bf2cba1f067338688a2b5e5c43a54873f984c9a72d8a7144df7a301e73f170e8f48e68d494e53a21d6e48bb98b5f956b212cb6ec8a059a71b44e995d4d8ff58274881cf7629e1534ad3f464d1e885d233cf2091a630ffee973420c82d65e1e5e624d59364990598de6d4ee165b507f7ce10eac7321994b786573bb25acbbc36ef495b58fe9295fa4ba8a875b8b4d4f4e2ecb529cc753590dc915762e75c4527104f67ae248060922b20e496f85aaf98744f3e1c21763bb2ef42beecd621c7c8e98d0467d9f5cf6ec9bf6cf3af0af3177c1b6df468bb49ca9d286c645112a8c7397e7f77c7f2ab0f05d16f58f70785c5e15c5eca07c5750e7d1857a978d5dc6a693393d22937d97c37f028468559a49505428c348816e2ce188b1fa0492cd2601e0d416396fdb03ada8cf8c25849ef5a97a56067ce4fce1e4ff72318b073cb373268bb7e812a599e09a9afa5dbba6a4b508dc40b04c1ad71ff48a052001e26afc14d7fdddc8f4d3b7320d0e4c83dadcb0bb10dcf3a5be27eb1eaafadc91c2e0a93415b734657aa76adeef23d9b65a421c50762ffe02aca9fecfc0f2b15690acb22943f3679ab287d1a8f4e219243b34c91561d4499d033790aeecebad6d85639ba8308af1cc047ae43af17221f89b7bead1fa0692de77a02f6ef7d39f6955871ccc57e5e452354e0215a39e0626bb38ae4665215aeb6275baa88af5a869a435b67a602bc2b418fac71346d4e057ca678f0de0cb7da7c5a1a18780ada59bdaec7dc48ae7ec66ba03c85d514cc4f21b6cf0b38a8ca3175c1e5e83612fdb56fe4fb7d89828c107efe90e95b8b9d405ca3f0754d1d9abed9a1f418448d4f2440bbb2f4ae42317b60d5754bd1f8f1f9bc9eaec8d0998a34c8d154ec465e71ed04f6c950d6e02758bea7b4f0e36ccccb2f0ee28f793ea82ced5f424134c84c5bf40d4c5699ce537c190affac02dc51d47681fd7930955bc45248adc0a05b6a0a80bb76afb4dbe21dd0f0ce93f9cf48527654e3b6100d3e7d02e235ff551ca0a1ae9dfe91e6af8d492b5277eaadf7492ccf70cd633ee2e38a75a50ebba6572fc87700e329e13a14fa418579dab368ec8e958cb82d105d3d735a7a3276df6061cfbfed802ab3dd23d30f51c6a98825b0d2b25f7a933d52151ed02c49186ae65cd8b4cab200ade5c691f8212625c8946b4bb31f0afe99491f0093e5adbcc6452f8e70ec51d266acec089081cb30f7fc79ba68f153e63f317b93215b0bd3dad824804f1342072dd6bef5dbb52177c4a4697d260f75eb140ddba79f3317a335ea5a591e32a6d44e87e3ec4b90378b946b049e55609e4d8894a940368ba9396e953d4627dabe77526e8e31b096dc29671bbf15fb2051ba0e2b9b7b802a4bbcfe74819550a38848d8c77bc038f311f71873b1102e321daaaf1472649d84d814cfc1711bec70d4c77e676c7be5b56e5c6d1b07d4253ee34a6fbcb3bf47db866a0be300e3aca052de7905abfdd133c99095edc23c51a56e8c40fc3ef047412297f5394f0d12e338e65f2fc45de3c4694d7589dc9285a8f3160513dbf05d941ad20d4aac50df0be2e863e57cb7a2366f3c78f17e2302fe0fd061160b0423dfa4182accfd880d1801ecd91b8a2aa1035780c11ff89e3127eef77aebf09837dd7a9fc94da01fb3c0e1cb67b8074816a1c8d707603c030ec63ed51e48183498f27f221eb31f40f84f40f23afdf689fa7c6d486a8891610fcdb1541d1ee215c682dce685333c9f3c430d1a92918060622a2e70957493feaa4ef3066cc101b18ff6a650d7054ab93fd284972780dd71173ef0893f9ee48a9de90796c3c38e5d7fc1d45a736c22761b2083ace5cb4fbe92dc2d1d353e4e4ef19e9196f9b63f5fd2f6866e23d5654a33135259f4c6a2b078af9bccc6d6e26b6747dccfdc540efbe625a80cad08bd7524e15aaac54d85554bed058bd5ece5f8afc34968928038bade61a4b33996ead88edb2482e2b5416b7f3c5430c4d7c3de47a897a168747abbfd02a4ab27f468201bd5ee1b83fe6b542f23f8e5d101122f9b0960da1de72b6dbaf273112c0b7289c40ad7af010b5dd796a454c4891fec7dc11b1c9a73f546f1c9b8886cafd28c2eff236eed6643a267498c8ea44e285873681a1edaf8ad3b50d83f17263d30dffc3b353e7dfad05c86b26f43b99882f7d6e3b10da6fdac4b3ea5147b4bcea064dbca9bd1e2154bcda1b20dd56a493ddebcae7d42f7f0b361819441f1b729af3d8094054e53a977398ae1291c3c02ab0138683652ae730a07bb77e4100aeadcae1643807b05e88cb5e204f333f4f4ca138cb1714c4b82504876f9cf518fab5af2cff1222c963f807e485f62c4d0a51ed7417af03a88c7e1d8de9dcb813eaecabb4567ee8f558befa2a5b78a1272489703abe9af5575a09bab9f8749a7c927e150b6cdabb7c39e067d33017f1de202384a782f41a28b625fdc3c109bd68b8529e4f488a72573dd1b9bb0cc58390f4cb8ea7aac6efdb93b3143e6d1106e5a13d06b09cb7cdcd1c74c05d3aaf7f418cd76379ec9fd65cee18f61903d58ad195519ac36bc959898a4110133325e8a31d1d203e3d4551078eac507e9a692b8322bf8ef00ca7e74a10caa815b40cc1cba6c5793bcdf6014beaabf8081b1e7b5c6c46e7ceb7b1bfb7682bc0ea91d8eaa222c3f3fbd07ed40916eebb27a6528f0cf6046b9712edfe4826cda343f50d6910866136e4392261e62a9f2ec73ac709145dd76b934ffd704543fc8eed9293a99ec431b717fd13a3c4e753f5e78b201203165e25bc82d2efecb2345313edc05725e505f2323c4d9b55bce9e35d8085503859e0541daa5aa1ad083102f3fa8a80e73a5c20397163fbc5a0c147c3d577519eb14a9daaa677e79c410d60d5d882b7da2f1d72f153314941e5bea37da67a343b6d393c822c081759708b9b3689ef3c02f163138f8a59cf3701410e245d8334ab8acb232d4c73c40e9700f21c0525cbf30df7d895c1e956c9d3947ee543af338a9ddc60959a4c319b7695d0684866f9369ac308e260bbea97619f495203f615e4c4949409f0e36060ed730eb709cda0601526e8b897b947b7c954fd8b1ec6b7e08c6bf79d763c018bd4d77d7d2a7a0e3216d982819b5fd6276b07efbb0b562e3dd48a8b0dd2497dafa44027fb54ec99db034edb5ff77ed751a9700093cb9d009e9ed9cc1b657576de13c22a7687e8ddcd916ccaa22230014b7232df02e627286f9b62eb37c86d2d973a9513bb176a93be8bc41cbdb87a26e2b901afddec2c5463bed64034c1af63454bedf3e3606999e15377f4dafd261ad9a5445c77008d205660c84a5cf6755489c4592fc5e24bc70c4e5e94c0ff158269c025d900d35ed6c1203a5fdabbc0bc5e4c116e2139063859545c2bb891b19f4712b79848bca4ac5721cba6f04f8cd907125552a835ec93c61c244806f817252077db5f684794822bee239441cd8326a56a00f6d82d690904e88903169f7b7a896b82c33a34e98532cee66fcbc5f7d3fdaec0e6b8630c7694df691f4709d21850a90b785832ae34ff31c8f61eb8ce81038f7fcd49081e6adf739ce194daf136661bb0bf802509ac70a8efdc9d4513c4ccd89c1d315ef1367cb7fce4a4d78e0657fe68a6248acf3fe3be7ffe3d88e8b344ee3aa5047581662b3275ae0672557b51e4be4f0b5c391d99d99a13addc02a5f67cee34ad06054a0d839979433cec4512359538ff58cb9f1f9cbda79e39c519287c9d71476eac07f3b7f0b1670fc56d0b8825718cde338d7d60d0d1e3a1f325b2ea1ad416820e72c14beef3cdee1f3eade235d6ca37e0b0d440ac591d5c200214844fd4d7389b710fb0968936008f74047fa0c9951e41e422b54329d28e3e9c8dadda579d89334d593482bba6c61877b0bc58803253463a85bd1c0d5147499ba68c21b6bb617b5d515c84032db8a71c849bfec5284e561e77a5cdb970c8b57890870541e46ae485b666615d285e944b69157b2c713e065ed579aa982c67033d6cf46b94bd5acf807798763a94119b31f30b5594d3d57e0897830f5e07033e5c4d598785737c3a680fa2a8fef6639d6c523ac2992bf9c5a6dd5e04c435ac734d4bda96a0be51994d9e1e453a47416b4867a602cc2fb149363fd816b4e4ab96b119350445eaad03feee03a2f644cdb73e59a6f6f5a174def1d91e289eb18b955c401f299922548037abecb124b9e51976a3611d14a83a195dbe9af04adb04e0b7fc74b8da5c0d97026a689833272af3df393824ab03b0d0a7b31f411fad3a12b1995d6e5b26fe196f6b64f54ee45e99677f680fe275ed814ebd4485df15117dcb983a740f99293e5312936460d34013bf8a22dab5b4b347397cc749ab863d2d14a982a7795053da9c6706c69c94b636ca9c2285365f0887942cc9e83854a30cca7605b6f825376171c7db9e52721b0799c979aefa029ee2befb5debb7be76e5256a1f8a7be5343e4eb126a5a4e39d0d64b57001af9a647f0216b991158dbb62afb290bcce75eb67cabaca9d7c8aeb00f99f2ab317a30360c81b15faed4dce622026108e5991a6ee0236155ba04ed4cd9248f6633daddb40065751bf5b7782e071f65964bc606c305c7301a0b416ec46eb3e6e2be661c8d8427a2b36e491e708ffee51dd41d385726e4d837f3b5f66f14c0e478007810a17d5de8a568907ab7fdb331569e1a491dea7bd9d6132a124725723d6d255bcb650b42487c07021f592e7d47488b1ee266e0ff524a49d29cf60cc9e9e210b8bb0481b7e0f691d46dbd0d6d141120637510011eca2a4c4a37843bb57ed6dee132e2fe50f1ea88dd7fcbb0828b92ca93890d2b461c3f62a0aa47b225d98e16fc6f7573f8ed066b36629d3e9f294b18745bfa9598fd21a126e6bd4434b3f718487bd21325bec3f23d5daa4336ac955fe272ca9a5c8a5e9b1c24bde873ae075999e5dee606111f3c1d644d0b3bd15ce1a0c1e437f72fa5df866b8def876f0c42b51149f553b3c9dd524b94127656373607e9f79fb772b105eb65e50403323d9c67a29630eb6b6af92c2c227a65929be8f1b90444b3bf12c30770fae3e849d946e851240f8b6873aef5b6a4a49b1641110749bab9524b542c0da7ff9ea9b25e53c8a7c984a32352109623415893bf18f15a834a726d1440d91b03c1d8ce465e93f194ccf55ba5f385c85b9f09cf89d1673e508cb2aa8065a02056af93b2249c469900286af6e1d1589709c5f69796c85b463e15bc9807819b11267f2820a0466e73c3a3bfc1b6ba3f7c604f91fef5bb15b23543b0b1d0ce84057e87f9046a54ac4fa89024be60174f70a63edf3b89435410dd93e537cdcc021bfe7395ec70731ebbd984ec61424d1f04202c7fd7009948b22de39e7ae1c13867c08a1d9731245db23c4a8521ef4a823357792d48952b6bbb71087c2fea2b2f255c6f64172bba9dad4af1160074b09bb4e045891c00ff8e91daa072f5c2ee2e6a592cbdcef2206549641abbf372f458580b17319d8b8a99a6bfd2e4331c6241f5659a07a3b65f3fc9bf6f7637703353f06fd6202b5fa5d0012e2be1ebf334c814babbe01704c34b4c0e92a24586e6dafa01852a31b64f22f84993b9b0a37facbba75eac16342e977fa213092d12bb01519b9e4dfb34ba3780753d475b80f59841b85814dc471b7a64efd9b38e1fd7f870d6e6bab4095c928ea7c1585906905cd3664f0b860cb074b16e1803e69c8e20b67e49afe1472c15f02a3cd4295d7a261e57012787caab16bc14d0088d5ab14fe1f67e388e9fd67dbd1d4d6cff5ce7ca96853f21228241ecc7e303843f9e97be13d554b9baffd5ede6a7da939d35f1d4a756a42f83d19bc4b36ceeb03ee62f7ab747076c6098f68ba3e6ca7cb7af095307bd35068aac670821efb75afba40ac99b088550b1b6ee5f31551426ab0c0c7abdf61533827628546d0996e65ef48d583adaf8f12b4169e18ef83271b4fd53c2e040bed5aa2bcb745374247d09ea6c19f7c53aa1dd071258337db2f8d4d7646df2ae0a9243a0a51c375b567f11886253fad3ba531d8cf7b60d66c03cf5c49927612c412073886d882861cafcfb9aa9ea4c4e6efcd791a8306458fd91100f46e4005b099bb090beaf401a5cc0ed4e4ce3f258488034d78ba93a4f60226b17bde89d32313a0a096c818bab4bcc0ba05c02fcc010757d177aab0a16a9213fca5649fd5605ab6b57bbb2a0958aca42c6eb050f740de9d85b55374b02d2b0a2f6bb68d6cdf0260d9f65e72c49abcf795ed940ccd04ea932eea871267874e2667e4222453873382b1f02634713ba2d1a4e3247fc19d6e5aa564314d9ce45edbfbfff6df40bf025dfcc5d98caeb96e906f02e0132a1eaa93c1750c7ea9c77acc4fb44873b4cca3d16a77af8ce7d4d8518caaa70ec51e3d34542b2f0b1f39955b8f1d67562659111d9de32116c4e815697502bc262870507fb3f608f09034ff5e13a5eaa95cc9fb0937a37219dab27db9d0c8c37f3c1ab83bda832021b372e9424bae1d6b57207673eaecca5f33b4ce5546107f608760c2e2f5e47d4a874cc034509a187ec35c7d8c9f030224cabe1c199ae3e1575c48deb26b4fd238fccc594f4a1cced021c969f2a9403fff196bfd569cd6a8b9b5a4f8d98eb48abcf3a1365a63aab42e4255b242151715c9a8c550507aa04e58088643145f8403e55508daf73b40f68240f066de127ba1fbdd02741ab838810ceae0fa7d81d098166885d06b67640ab9cd5b9b3c442c4503a4170358b5407f2472a3de412b4970cb7bd689a3cae4579a078c9547b7b4fae17cb3deeef463f3dc82d051efcdc1c0a13d2160efee91e440d8db80a6694d52ebc662c8e789fdbd204b821f780a2280638787c46aba210c3ee0208f8bed3b33b0c7ee4b04953f4cc6edd0b78b480b6c4fbec129050782c6dcabc2c4dc396846af61b7b13ea86035d762e0b4948c921e18973719df4752632269cd0693bc8b4ecb13f4bb38013271f6ab119b81ff40a377c1df686e958794cf7929499356175458b4a38e1cfa6274c51c1358cbad2a07da7dbff8ade5ee90abbb0366766b30ecfdda35a826a802cb7e0cfb52e9238eaa699c08b2fd75cf7a15c1edfdcff2a80c85f69649feabe649dc84a0a0c42525c1a464a9820184a60544a54363f106c54d4471917b569c096381e0a331796ec81e1c59128cddddcc931f5f1d24c5542197cd28627f3abad5b842dc374c5c75c6dbb0f1b1e6f4de04a6cd6988083525670b127763d4c841aecf6428bb6bac2f4d8e2e480538eb94e545766651e11ecb606e8f4f8c5192a5557cb4b781dfa6f6cd19752a7417885d3b487ca8c90f5e277352593bf44a01960be1251b3c9ca0ee93744ebbae7bea7572089851155f3fa6cb426512a1069d10188742597375e1045332ea95b7f53670248e50c7d6a9004786a59ebc612ada6215967e633b8887b51cfb814af881e588ab64e42ef1dcd4f2c1015527aacfb906f97be47a10105ee07ab4e4f64954ea184fbe7b7966fca8a9bb79e03b3fe22e58f8cf66f29345ac629899b9b5707f08d23ebbbe533fa3ef5495135446d0a3148998121d57d9edcce5f3c09028c0c92ff41cbb0e673625372308bae300faaa318bd567b8b1ade5b38a64ea9b1af38980d94514c1d38d1fb183aa5e017b343a90e4060550b7ce34973aef5a89019787388b24ce5c30d546b3520ac45d50bfb971011a559ea61ae753677f21e1b3251b75354a52c530e1ae19f7060d7c3ee89d83bd5be21431e78375aa8d8ebb94cc87dc679215530d26651b1e1a61dab85802b3068be2ede1cde1c822170d53bdf0ff6c7b5beb3f73de067daf993c75461063806dc4df30aac44d46d2555117587420dff60cde04c049edd8edef40ad194c272b148db2a9132dff3935be611bbdc0ffe977751d7d2806253194ee9b11de0f08e37f386e1d014a60bde7b78aeab13f6dd0c7edb54bf57224b6ab027771dd1fcf0d876f4d05fbffd9e81cf6bdfc05ecb7a383d7dcf0af0b975563a68ebe2bf90d965616ee3185d16b97dea7d3f96da5ace4df6035282d8082d14300e5f7cd6b44900ca89566fee59543de170e74d32de95e1992900f7fa02b3bb588f368e8388673955e9b7c0ee40f37164f39b28e6122d373e2b45738f33828c79158fa61be1d29d1cc6725f6506d9de235a693278ad99f3abe72be42e5eace11edfebd664e7a378385ac9db1acf077b56ad90bee8012b32249900367f954dc7aada2d486df7746d13fc18376f8ea5f6990cee30ecd266ae45e9aa056b06a179ef6070663762aa8ad31f99d45f6c36e0cfd5e88077ede823449a4c4d1d318157e44fc9b451332c8a2bfdc01d7dc3df120d5d6c7adecea0601eb8dd5141e192cf92983a4167f14f881dd62b720989538c438421fcacebbde20ab5d88123f507d117e3ba2400852d252737c6d614ef6aa3fff64d4189b475ed398711b3bd8546c0f24e89cbed635315e38cade37b382378ac51b9c5790eb002a22cbcb62449969a1363884f33f7a87118cbe9f0fc294ad00cb932558b5fe3b30ff5ca5a3e18071dee2b9689656b089e618aca0190cb6c0aa7b64912c7936b1bc2e4868197ec92152e272a7b1f3e40d2dd50f94242643e3d8950f2ffe42f9b14021d03222c4c8c7fb219be81968df9d85dffb1e0eecb59fdf4da51f11a1e9af6de3f23ca4facdc828adc05e8bee92b2bba5dcac8a3b0c04a141c21872ffafbeb6f62d2e484e7db3d4130dc35b1bf5e48a4e3615c6e435175ba2ac6fd2542dbf34ecde2d08d9e584c6a6a52dd791bc47b61cf76482c1bfc2320f45ada96d2177278ea4ed3170209c682505aa1bee1a3fda31c5b71ed5e5f5a7314fc56bc216852b48c1336f00a4178b6bf8af58d3dd1a9f60b040098155ceac248d3142c0951ee48194a5d83d6d76db818ca5203e5c0503a56d5f2c9ab2784132818ac9129169396375bba6247bf7672964cf9be9f757084c762a2d39615becf665d85ff3812ff3b448d97f535ff6b23e3f5d93bb669c1c882da5bd6aa648ffe55fe6e03a9fe3c1c5cff438a4d5032bc7e4df783bbfb023d4c409cc0d2610c1899ae613f11a0c5c165927cd75d57efef76e296f1ff548561ef63e36d48042b80f5953de7b5adbc063b5a2490588ba5b2718619d19257bee1e714b699478a831ecc0745ceaf59b1f2d92a7648199c310eebca1f1423d1878faf43f48a09d72ef5b1e085b4e0f6cc103f18e821b25842e426661b768e6718118a7ef90eb5ef17ef9be7a03429388f90bce8bc89d6cb0daaba7001339d0bbcc7da5944d8b99f40e2a9b8fc1d5e650601a9222e405128a808de821ab8289660ce40c6fe37c679862a833f34fe690b1a283c8a883842a55403257334e668505a546999be2ffa4458abf763e764009367c4ada3f5d9b5355f1fca3ae12199afe78914f710030aa5e7061185b967224b966c82239ffba8ec6cbd7cd0601eb06dd49b27b01501ad132b28925ace09ef87e04bcb7644c610ea0d5384e0fe21a229dc132d75f27551e1788db11e4572618a3438b54b9dc7ee2406d965685da62d49a83a6cb5d3fd64cf8eeb5db4c7701b7b9eeb4af33dc96b302459aff06535543aa6cf5c39e9eb956b78b540fd8fa735aacf07b4d9496aff700eb1396ec24b64a454d3593c4ca554e83e3cbb1ec097d91f9d315838e27193ad5012dd77861316b7fdb512b7878ac56fde7089c845aa4d0bbd154934aaa712283c41d0d09873b0b66856685ce53d4283ad448a3f03e1f8822f683755ab7056cc0275845317e3cba46de7ef3516a77f0bb9923d622d9dab473de7b836e7e5daad8fe31f59f793e7e5fb8ee67eefab7a09f98e9b109e9883893ac99e65219971087a34b38c964cec5b50f495e75600327cea8d53fc3b6c8bcd5d6813b9bacacad6af64163ab05f39c3cc388b78f4d35a37b9e6c43a6e5e7977afd96d74e1d7f7580989490376ff58acd67a39977eed21b0a42fa180016df6ccde8dd9c58322bccb6c7102fed9f10016d270dd7d74263482435fd3eb37af23db35d032d654fa20ce98e6f250e20f0efe2878452f8ef0f850fae9b5997093a3576aaf66c835ec4af34833dc3810b31b026d25cad2a51207cde30d6a7ebdf60987f21270303ba8e337984aae0d5956be46a1894ee3b148f7509460a7b95f42816f2166274c500506fa444fd253526287a47d97ddf4880322166403805ce6583a3ccf3f2ef7f8864e4ca1fb15e887af62927c895988d242e946a9151d1affc3192ac1da2ce749079456596336a94826606c60af21d28307f41f0f057e3e5e9a34196ba4fb29f2a3ed87b32846379cd45b3629b352a1a9ff01d7e520494865fd1e787829bfb255baa90a1c0452ab26504eabc1f92d62c4b1c7b173164c77087b127e93a21f051ff3bc9ea7e0d9b3dfa35044154c9a50d5dc07bd2149752b81c35322ebf28159061f209c98cec0f7c03defce52f63c3238b2e8e7c2827c8cbd442649e348498c9d88f022f15fa0d1325c9b9e68ad8a6abd76cc4d467baac222e10dd00535be4b7897aa77bf5ee87c0d1f65a5779df8817a0a9a2102eeb072262c46887472ae8602530715d848a5fbf895fa3e7f2d5dabecb1e45e1bf9c2a0922ea3b642311bf55b4eb22bcb5f60959dee682671a252871e64a4e35bc333edf7372a298a392b57918990e421757d6a3f0c6ced4036e8cd806814e7a45516eb5dcbd23836e4f62e1acec4557bacd2d935a8e5eaecd859c8d663128db4d53c64a922174ff0e2e95aa8ccf3671e77fa2b727aea9476de17855afa1d7493af3321b8008bd7633357cc46ec35867f4d68ffd59acd3e49e36c14d6b7a13e7cb12a734bb882e49bc166dc05d192b4bae45dfb13a02e70e76225740ddd54d229f7058e948130f31e98b21c4124e2517f740fded9a743209ac56a4dda1bddf31658598c2b7905cebae58c88e920e428263e942f822d1e51b581b2f509d1a08b3e961d62ce0e71030f6c97592c6a8177125798e32964536ce2afbdca96ddfccfea51dbf4b25c9ff794ae1478f1dddaad89f289a3d4302cc1e9209e361c61de9d16e1b7ce3aab41184424d5dfe117333521a7195bb3d84b1c03861eccd4c2d554dc94a4d54179838229e4455ab61975a134a6ab6aa6196536790f2df2a0c3746a3e9495f78a88f14a6014d5e21d835e266f57925b2c82d2f9e11dc39f40d101185de071cdf61b60fc531b73b6cdb5dd09c9c738390e7d2ba4be31e92f5f4b0bd3ceb0b3688458a25045fb81ec95eea1e72073d93a9684275b48ad20011642a9ca99d0e6cfedc04382fd4d53eac2af5a2a8a09d2968288d210bbf07acd0ff218caf6d53afd650fdb494beb178ad481460031afa844c0acd6a291c3669e855440dcc3680ac6ed652204aaeffd79192f6804871a4cddd64825db34b5c710f70f90fb38b6f0d34a9c0406071762dbda4417d6f59529ddbd34563496e000857f7818dcd3a286889e9d01eea7d76047e964cb04c8e2b23216ad47d1f3d2e699b4f50a1ddd78388964d1a30c404d0ca159b7e69f3bb322a2be0aa7dcc625dab5ae30df18a12419ee2bbbeff864b0ab21e205fd9d1bfd1b2d6870e8935541fded098e1636baf723134afa6af38b711d34a6e4d2042bef1b0c4a721a4a7905a0eab0975ccc66eea8c5126cc87652121087ebe1d082da34ad441a4c819f9ce6c104a53e0457d2b08ea328063b2269467948b726f7e42ba60ddbe75614a5660f67987ddd68847531b517ce39ad1997a641bd1e681edb1dde4e5cfe633ea2847f096ddd32e9a3617e41bbd77a06f264089ab1071e38f0a1f050894cd33f035cbcedc946189d18532098c83451038b1fd43f92a1891080ed064b1bc45696efe0805579596fc942bc1fef64dcd8c145988caaec40db539065fbcc7cf00fc7ad12a9ccbb965ccd5599b9ed489e93d59fe1513328d9bb6d66f91eb9e6a743274920515ad989aa9c6f914d65c6f4105cac8f5588ea9d707d355870d0e964562f894fe1b4908a56adc1c286e38730609be97cbe78dde9200407e6e42ab823d35d0b7d27b2244a8d315628250bfda4f77e14fe457e063a4fb8577c5502bfe58c04c7d47568853f9bbbff72fcca97890dee97db15c1a97b1a6abd64dad3ade9c3f288d0d058da1ea3836b5bdc506a67041dfb0bedb1738b08dbf073fc1b645faa5bc003b8b9c602d40a1ae3a665feecce081b8fd67df67426134485420a36a96c84cc7350f662ab5fa8a32faceb94f2dbb91b0db","isRememberEnabled":false,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"8701392fe9b5f83a1d05ff53bc77d36a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
