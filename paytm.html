<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #1E242A;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #1E242A;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #F9FAFB;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Unlock" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = false,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d988be5062f8b0119d0534bf29ab9d4991307d7a512809912bc6be58727f198079b723cf6b9e99e06a3335e3155cd233ed3a1dd6e9d8a15cb96b676ed48b01096bb699827c27c0086a59d32e0de70c03b72cb3ee58455862ae010c7312002c4bee594eba739fcf108614daabc6d834501bf19bc9f796cda03f5e924f61394813be42cc700810282352ee6ca92dd9d67ce39d4f290cb2156fea6b9982f27c2777863014845e9c23e5a7b1b78a0696bde5edab86c66ecd7d7d7040d9fb4abc81486fe893a80847434aad272ab40c98acf4a7ae81cd294f0b07d98ad1ab6dd6b7e3f436734e2385a3b0277155a47a18fe94173cea0f06cdee920757d173821e6ef8f89f2095d957a58e4c7e18db8ee5c981a4ade46f635005bc72b99ac5d2424658af349a1f778732eceea69823707d443ad345a9d493b34d8afd95835006d0f377e3d989d8401d17422f2f820f60c06b73a4037e126cf2063a1bd29c6a4d912b44409d8237554974a08190330b6bd6f5553469aec2f4d1f7ae6cd1c3daf1fac186d077ffde72befe0766f6c6c688e2244fbae2ac4de0f1b81279e37cd1b60e7706d98c09ab848cc72aa8144e0fbe3103264071cf36b526aa274249454075c74fee9e15c96d980d8eba3e7dd3f67a74045b1b258c029b974681a3709105fbec8d25be4793f2fa46636e96580462bb1c5c054ea3d499d98e22cd12ce5cef7430317685b792b94598655b06fc196d82bf86e3a9a02201af67312f129a865a38eb474f515c957bb561a8049e49c00d9dc200825bce66ab65ab912044f4b6b065d93c548f0523cfa8ec2f4a9b8efda0ab8e694201917864fcbb6657b9c467f002a01f3ac64014c6213a2274a02e3b47377d81ddc0043e51873f85e0d579215103197c1c114608cde0f71125980873d86a9ae82add3434bdd814b02fefdd2cf80a6171410c7ce462359073597d9066b9f3e5de99064ddae6ef2c5b9e27f557969ac0d76caefac20a4a75697dd9b9e316379bd2f57c58407061068702d1ffa14b47147dd06a6e67cf3869c454677efff2488e0e6135bd5342fb990cb0203e9402fa7d00acfb1cd6adb58901fe37ada089b5f72ef43f45899ca7cb51a41b2af780e076fd0eb85d3e4c831cc5c93f6c4b9dc89e72bbddca1896d6aabe245ac81f702f14010ddf0e90072af984062321ce41230fb1f60e03c7485beec8273af16ba9d69bf36367e339459e85f00090d30acc84f40021ab55dece3605f4c2be34cc623220d022910e9323b6f43ba8df44dd340634435730245536f2141bb81dae8e841313642bc32746dc0f52762c95f08a6e4dea81f792cc58c28f11d75b0c03501bf99570c9fe1ae3c17f8a8fdbb27676b507bf61cf47e8544d8aa98e6fe20103af9209c23f6202f5a6ed2b5b8440f6c95bc5bff2e9073b2e209ad4312fa5a817ebc822085a6c560c12ec6f15060c8c18574c644823688951a2d0165f3f73f0db221e0c8eb83723f1fd120aa5bb1fabfd1e6dadf433d4126693b35cc0710fc7d8621e0cb216027e3623bb3695a07d06fb26f805c9b0779bfec6a9e31711b23a07871850a27e035db7d0fc5c47e634b817b7dd3b88271da01d8014a259db5b78667bd5068fe5b92305039070490356f2449162d773d80ebe20b3491515a675705bc25d68aaeedf643a2bc483985b319112bf84b2d52d3e1ab3a80413a390c76d067a56b7f9eedc025c071ece36c48d7ef32a8b5ad697247d68b4e197e08fcb1e75b344a52e081022294ef5f765ef7fe606fd5dda225b85e41630bdd5f61a97c09353caae8e8328a22f6542b443552bcb6b663a610c884a195f7dc678f66c6226914b387733d0c2a5758067adb5e819e1cb17365ed26f47f1f99d4b11592191a8f44902f4921545fe315a78d9f5045fc03db35ad3aae68510d6c0b4284bf20eec59be48569593acb1b8b3628fdd1ec2e4b9a73500b1c2b1474681886d0ebc2ab80c389fc0d411506e51bde28e80a08104f1f0785c1fed6afe227b3b68c7fc2ea3129a72c9526ea8556f5835efdcb88130e338d578a143b7db22cd39abcc16d1ce9244e0a9bea69e21eb4eb4b0dfe656c7feaeb4d2778006cc51248cf0dad88caada97351687f8ba001b483b918b78a119226da3edd6908ec501640441af1bf5522297f78e604d60180193d22d607ba9d0f8a783ebee9d651cc3bd49146ea0b04417a67685249deda5d95330cf1fd1da1734c71053a3bb18f1a846bbd010464c7f5695138c86fdf597b96fa17619a1594dbb4598c8912ff1d160994d3e129bfed908722f0caa4883fac6183ba72b21dc3d1ce58f925434bde614eb85a2ed0a8333a9c5a1d33babc8e08f3c3ed31a3cfaeac297037221dc05709bb0368e4792bc00a2797bb0847ecd422e2187b7d3df06f4f623c2e342aa13397e344d6bbe1fe10d568e8c1a930f9954da2edba781f19b2d84c4f61c8ef30c6f43c79ecf2c9b92279645e25eff3d1a43347498f3a0bd9e39b70c9536c93a45f55176412b8bca2ae4113c566609eb53e5be61b57110057042e3a2db2175eb0909c3b99824d1f1c21716c0f6850105dce988f64706ba96b235fb22b89161e9e8e2d9678e2587f6beb17a18a0a5321710b7241aa50e8f095c525ae202f0b2294c1609295c8d32ade1535edf5bbdaa18482d154f7f7bbcd599f3d2947b80623794a524f462e0b86a445f8e497c48fea17730552e25a344179997521c01fe11250b1780c439cef3ca13249c8f1cbca999a72120e4ecf9cd5e58ce12e032c9b92e85da553fb026e4f98173fff84b2caa63636091f0059d55a09fe1b7849a7eb8bb1dbe2b3d7fba4aac04a8fb4760f322a24489504ec66084db60a146fdc17dc3f587b866dc649e6e06280943ac6f1395ac5c7f0b5b4c2f6fd86d547ae68e21d3877bfc27527c3053450abb13b95ca37de2254d265800c0f89a601f2be2eec60f975ccab1c2a564b57e917438926d3706ce0f457eddc901c56b3a0eb1902454553898ba83f576efd3a57fd08dcf376ecee9342d7d1a5c5462e0561a1d4f027798598578241aa4070038dbe7291ad1b5be6aaf9005d997341fdfe542fe5d9822255fd20f1f8d95afc4d63f403f74675ebb5a224b3187b13a7f78fae382ac4623dadaa7b9eb13901a5e6c49cc660078e835d8bbe547cdb66fa33adeb80f87eaf70944ee04ca5ed5c771e02fa0e7e5543cad51ed2588e66037bbed44ec834d1e3dc21ef6d83033a558cc6d610d53926a55316f80f8ddd1b6088c425647606723fb59ee3431579ebd6e8d22db6eca3ef235e05844aaff8257fe7ef7bb6f72b9c5c81d608d4fa9940e0e4849692098fe1d4e3ec29f41d99cd3464c796e729a2b950db96fee89b0ccbe0f53c151fcfa469b1f5d734b5aa510e1958be70965ad7001a91a17bc91bd8909501ff89f48fc2b1816a5afca3f4494b16532337a221293673cccc9d0cd961dd5b73e9447988040ac88292710919aabd41af997a695bc8f868d080918b96aae8b609b982bbba14551c5fc63e7f6fc3ab57916683832dba6f422708ef4f2167ceb914d98228d4f3a7d0a1ba7ecb68d8878624e11ad1f1d882c6a8bcfd8fb74f84aff5ca0d0dc26a86328efc9c3a90870872282b93873f3ef1b8308fe9aa1aa42fd0e0d05f8d88f4474cd6ac7eb896d21298f003902f30dbd36b9662dc1992614d819ee7d8ec947a276fd5367864a77dbb76860ca07c45d1d2f9511020a416be4e986d3be31483a309c32b3f5aa3f78e3cf84d49c40531c5312e65e87783aed61cffd08e18c792ba6fa07b8ec9d53cfa280e490789f7a0964c0f07280dca48849c35d5b837d667ba9288dc5a7c69380aedb30d4d54bc317ae65250440019667c515938aa5b553d47c29eff54e8484a86a2b4fbaa5cc683fe10dd2488d8a650ddae7c672c160d66a0edc406722c8d8e5b1ae2d1acecd4e3de69bcd5d82c778f1c9edb12ab48a8a31bdde151421b1b2fa320bd7d0178a9ef0115ef01a2968313d6204b81c99c3d00ebbcf4524aa75dcb740507e158118cdd2bd40fa9f6ae74a621b8d92dad9914036c0cde536c6f8496098781e08d3b2f2b179bacce0f600df2f0480fe1cea5bb8fa9d831a8c9e33ffef3c66e41e5d242daee5c1d045013e044b8006f7ffe7ddfa6b8449ed02e3566600ec389ad24fa6b7febdfdd178e14160ea023248527f1a101a090b4276ed3e5319d1085924d8e4b4f62dfb0239d803ed8a390b6ff24a6fef7c3bc6a9c2ceafd1ad5252ef39c20c3156aedfae9dbb987654ccc47eca471d1acf74090430bfd19dac86d7da4f173072b7c1c691c1e61df778135d160fa2c3bdd57a41f7e07f1af5313ce4c6e6a3142ac7a25ecb30029bf356f6f444ed5208941cd76a50e7d64b0ec7b65985f90b206ef991400096762e16dca35bd646ff60ee2507de275025394cc42ffbacdc99aa2be3e99cefdd496781aefe6df082808d9cd75ae18aa4d67b873ec7ce6d0e5f1ec96f37995479b7e8a497acab0629c2ca29ad3da7a26b3c075de0357743ebb5a438ececb0e34f5de27a638a66609b715bbc3701217dd5abbf8b2ebfd90d6c8463d56ccc74db374571446509eb901f5da53f90f57a07d706398958916ac59a7aec3dacd1898c676042be97f1f3b46a16e39383ea0aca27a9963ec5cd160e798db0f88396905d1de66862c615e39f3257906b4558f4b54741be9da5cd692188f3195fdc105aebe98bce02831a984eb606e79528bc0ee79a5998d57d424a0fed0e925683576bd269a3747567359e52eb8a2875154c7892f9cc34ab1e7b1c9ed65adea6ca2f8908f19bf7b5b43e5ff2eb8bb1329172a1102bdf9aeef7e87ef2576475a3a3868eea181b28969d65223dd718ce39ae8e36b760bb393924f5bfa1d087f545ff1b253d4b2856c4946f33cbfced0eeceff0d680280d6149d050786d899d48eb8ed294b074286eeac517eb444bfc369834ef69344c55ef3e022aa43b8a7d09ecccc0c349bb859227b9a3cfb29502346b621a37bf5bdc53fa6c372a1daf7ec734802486ff07a44d1b39c1b7f2d463f4dcc3d60b71627330879b7f20cf18e407393dff09f093fd16fd23b4e3202621d1544fe125e3e62fbe3eb4d0a61e4e3eb159d5b5e09d120b53814d1532e583f8596602e18743f9f65ed510a5ef517a807a430bc436cdc87f8792084d648c00009b1abeaae5617f667ec779f3b4459d5d224a341c2356f9e0b05eeede49804a3dff61b81301ef221f89f3025b27513838e2a780d8d2f2efb34433c7b8ff307d2fe43b5b6b02ee230a9e9fe6b6fb0574d398c12e2f7c1dbbba77d1081e1935494b7b2537f6e13223b2896da3a50b8e04254da424e24f362d6accd2d1b71f15f58182e0400cd0fef25d093b83f307d7f8a515bf948c077f578759a105c0c0746ddb15b1149d5e39d8acde3867e039ce775ec7a981ded04f2a37dc3e8f15be2efae53a21bd2904879e110d88390ad04822c5563d95489d757a6f1471e21eeab860f344f97253361ac4ec926976088b905acc27cb995b5774ea331a20e28553471be4134b9038b41b1301853870ceee931b1cbb585b4976ee66a23beec67263833a538149bd06d952af7a7b3e2b6355f97d53f84a45d552d5ed3374a997dbae6f8d19ca64e353c38352d44a399545d462ae6ac1058de1d9dfef1a516c46ff3d2d6454c2ec0400920a046a1b2ad42440eeaaa333d9c0165a44c77f096a9b3b86c143ee646d4975b7b33b1456abb4bf91bb29b02c1fc574a07390a815d80272dcac0e5428d661062239902ded62940499f7c82a3050d316291362b6190c3e75ed582f5487a6ccdb028bdca266fb43914d8f88bc78b4dcbd1f7e0a0149b4ea8f472be21d9447b37322e23ee78a75a5c7549ff8225237945401276389eef9de5f0ed47808a2900cdc4f70b5aad2dd02fe15c94480578619faf4b04b81200affc03d2a8d181dd2ae89fa7195e5833b78c636e39dcfa235628653cc7770c28d084b39ae26b750fa1ca5a8dd382ba08faf665beab139fb8382cfb4aa7bd70485e90b664a7ae76d1f91298034a068dc1187c316df230b5639a2c2f0b8c584b438cce0a2176d31181d51c0da8e48a91b06e15dbfe87f683a57921a6cb144ed69af939f5bb6c2e74f5e200c1d7a48d5f05a2c60b9a407ade94bd804b4f805bbb1ea97e0dab07408c1700dd7b91f599e302d2eebb3f65be9bc5f837b297a81398beac2d0b1dda672ce5ba1ad4e707095ed8c4e2f809c91caa6d62f3df39863b59e699c8ce0a36e32a61911e0486454bbc422f3268209032601c11c5940d97a5ab18e06abb20ce7e7de4b37ffcd6752d09666ab3eeea537be3fff0e960cb7a9b7c41ec2f251d63da172503774bded0b18594bea6744bf02c5e577d6c071ce034fe27d4380ed04c562f27eb35a96aba93c9c749f2d3f7acf5575b1000e0f457a14fffec2acde00b0908b2a6c088c8dc7d0140e7558cd66aea5a5c664d001d9b97e4c5f2bdd15949c5a92ae79d2864a982471dfcb495d63eae9f3a2b5d5d446221c10047e291785b3c06b9873b4361a5f87107ce0ac4d1f68e468e9ba44f38bbbe4f76d26ec6b8650c53b89d7a5f1402b4658e4849d9082e9e5d562bfeb945cea68c4c3b34288e59ceafc4fa34505c7398c95ada54d07042be5cbb12f39a7bab71d04a76aaf60a50cbaef0dad9ba9026836176f29c5e48e56f10e6f0db8e6d3765912ea6023e66b724bb7c8505791de0fd102977d8ef07aebac61a09e3c0061f5f9c8c573d6f1acb17b2f78d04d02bbaae0ecf8e8bffc47be592757967142105a930047d6a975c588bf27ffbe99cf2e81224de07abb423a5016776ca04eb2bc5a54dc0e01b5a60cb59b8e8d0676df7083ae429e4d98943127adcc2ccd4ce033d6d425ee57b069a39bd2f312390bc99572e1f8cafa52a3b5bfbdc3c102a8c9fd3f2613aafc266233626f0b6451dee42676538548ec563629d50ab3977c1347deb6cd8a5453e766c2addef106f71396bb96fa453ab625a5f19252ec59961e724611a31dd9584529086417427439fedd2299eba414462844f01d7c8edf8844444a79d899a70239c90e01806adb3aefb6f2ddcad5ac620d4db580496df02865c856b83ffaa1269f1696f757559c4724b56849c7c5b93847ed10d2d8b7b8d9e041d4478a573edcd912d999b292379abc11717d2479eb984d6c40a49026fc70a239838e6d3dc3aba9da9cdb9e27e6a95b02f840bb51dd73a4135a5c950cfb42cbe568265de2a5479eaa8db76ffa98f4ee8e8b5852231b8d8d439a9c566dd2dad744a0464b9b389c8c65708beefaaea4859360906b7b2171c7bc1d706739418a7614e649311cb65222592d9edc3b0fcb50838cf3be505de81f5f65c1b155cede0a472c99568fa0b667f6373911dc8a2fda707f9478006581e3dd4e2b2fea3224d9e9d6a6f7cd9a34236913702adc778a027cabaf94a8e15c231eb26ec937cf693afead72de3d6a95813734c80bcdee361752daceb7b0eb9c16471ee35b30f866db266ac1221ab0fc949ee84496ed0f46904cf6c72446917982b3a52ba32cd5e7e6b52ae1be3a63cbb2bb65dfea9e3809e6ef26e4f2fd4bb9723419d3f2c75c38e7b0450c90729d6170e4cdb7d3735924996fe75aec00c2b5152fd6a5f3bc0aa94a5025a8ec0b9e559c91c58b7e695077cacd3d3dfbb298d47a607a687a1d65632a8c0ac0001cc6a815cdc7a0e11b7dff9edf548bbbae66b30f990b929a66370c6ef81e3a269adf500d2239690d03df29c3ede9bde38dd969dff9aa9b80ea95c421ee52ccecfcad5fece5beb954887132fe1c69eedb276e59fdc5b9915aeec2fab0d310744a4ec7bff0608e4ea586688d7f653e3026996615bd1fc3ba7c751a256f73c2eab8c4f0e631fd2aa1db6c138b37e96bdaa31e7f04cbb6aea512df0b92f3c7d9f00a072e58a423f89406b16f55b961a919f5e407175c7de8bae80dad0e5e859511b3bc5b3958bd289afd3c972905d665b08ffa49104d339aa0be34c1560fc41ce1a0ad9816493fe53047e803ab7a19075522a4d06af2d5f1deb13df998233e5e8b5c336a15438a1d8699d76a64a286caac43c86fa6c9d52252c21c9f74d13c2cbd34e5483e4eab54f69c6552ef8d78530fef4e04b3d0fd392412affa26634da8da6525ea0b346e5acb4b907185286db8ce474b90d9f80d07c577761d9f188dca4a25b0cdd79a60f5e0c3629f016624eb8e360694b4120e04b9f6b789225d769fafb2a6890b05d40ab23f749d8f9cab6cb6070cbe1acfd772febfc95752c332f42820faa16dce062067199101f258f1da70de0b4160a790d83a9e3f2b5fee2a3c3b792afbf92ee3c3ac572c1614d4100094169dd37421c3a195f735034cebf296d24be6d7427374753d9a2eb185903c7d5cb89c7efd2bd73064177b47cbe58a7c29e992f28098f3f96a5cb164ac23ffe4a87bc7fdc5265e3229a6af45e372fc53d06e3356ef888a30012f6f08b606f34137360fbc915e4000cb3066693e8d50c3f3b54af59df5dc148231dc1712bcbd989d8fbf416edb4bc80a5376abc9851087e03f4a391e6699fee51de4da4eaa8f3b4d54d1e92d5b8942f9ff8dc155c23282655261f03ce10db963e7c5fece6253eced97bd7e559a433898e786e78ddcc06550fff9577459e52f8b647b7d5ab685eae35e92ef800745f727fdb3201296a3be9b4dfecb0a9e1c23f11eea4f2a287f9bc549ef8b0bae28573affbbc05926c30280f433166eed9b1bac96f683fd3b912512caaef4fe6a558f9911fb140eeec3b00904a5c4b0047f0951322cd8750916e0db0f378263a9a9a23044205b4b75d9ed25f4a6629ae2b5c3350430fd932bb75a20eee4ac2d2e793842e88639c019bcdc3bbe403c0f79bad3cdd6bea8b10144b35805e6aefa2b53d95589415ace58945302b402f2a39f892f534dbbd31ca91c23321667de3b1095c6c929825366261d12d23e5e6009fdf5c3f5a23db1a6cf90b6070ce93859c78559a71a894a205c24156539f4e7667a853069f08c7461a31c31a2519904e55348ed3afadfbb38f2b63c5973d5e67db64af8410cac5a8951db1805d2e4f66747fcfd168c7758fc1bc37b60ed8102409f11add7948367efbe2430717e3ddc6612516580fe377eda7f6dc3626fc2e4355fb9d3b149961a2829367228c0970f6445c74a30e56d12329f02ffdfd0816e4ec26246a8e78f7e7c58b3383793ea71564cc6eb719eca51e0cac9e06455c5aa6f9dac82d6bd77fd74a3f4d683cd4e1389d98d91f972e4843fcb1b062cb01a51e9b177fb85c12887bcc3e5c92c58ee0c49c550bf1cace1e9150b2576a77e995bade928cbb1e83bc4de1746200e4c42626e7cc826982fdfccbf7d5bbeb7f79494717a9366ce0e35eaf40ab3831ce38a78c898405d99582a91f3cce10504f5154c1c2dfa03b829ef0be7f052fafc85a4b3bc4a802973caced5580dc667f34a09ad0ef299586d0e030c29e84bf24d0ae1268a3a34437a9c41f99595e4e12b91fd8a4d48d49c343d2988c7fb00f5d35aa4a313fdac5335ac951b26a990e7a248884a1448419afd61e458afaedf120267301b9e7f86952a5e36af23e716458c3d9bd367b6408e36d45f79b00e8eef4ca03fca3de95bc1950755e819c5adc7c19b940f2c09ea1e5e8e9c0a715807425a962f7267473c5d5920bff2271403f13b6d0e041d88974fa62f534f3bf4af981a717ecaf6e6808402a51b0403e7a6eb50a5fd7b0dad2abd83b4cdf0cd85a172f837e2f6e05b767f84091407a434d51254251768f248b1d8425f9546d84c4d71c1d46da2cc1341028d0b20f469f989901bbf65140a330c8802d6c90f65ca24ea923509f5f84ea380389bd25dd3e4db2b0ea5d8dc05de60f34b05ca1936c32f6f88a6a5d175591ebbab020ffc03df87e6a7fc2fd0baa2803d071ef0f2fe2b079f45a162ea3c9474021fa3bcfae3a91f62794d799dc53ee0595067c48b14a3bbda4f72cb83133573c41d96e751842af2cb1d397b82a27722358f7b3b14abed2bd3c54f5b6b320f359eebbee68137b019b0fce4a3907e9a6c38adffd91d82dcbe83eb599e103f39923f972b4b28eff24e002126451bf75b1afe39d3c4fd509cded718fab8cdf370f2bd1f566bed3652c604574fcbbe86efdf472f92fea01ac224cb18b3e0055853aad7f427d375ba0ab3f4d0273fea55cfa5911007357fcb7e6744093113ac79e99346db6516ec0d60303cec3e63378f7bbf1913e8a857900a8d352fce6d0d695f2a280376e1378dc6d7993f4aad7bd4a274c4102bc0de50b8259feb44c85d54bbe4fe09d0b753481ae74f104358bf5ca9497fc418bd9d7a4e31e13ea40dd375480b65f9b1cd69da02ff84d98006165178e75059f4dce073644143929487cd6faef9200684f2c21a0cd3c6639f55c1013a656fe932e313968f56c6ac7f17e5e67fb9e49418afbead1ec738e32621850078b552316750accc59bdbe0dd8826ba0a802b7513885ef8a1000c23c6c2c85bc2b957990410ef241da27157d56c6b6bc8bc97b16a9b027c21706d9a926679f1b846b2d9bb0840122b3daaff00e64987bb5c184314a3248820902a1345c36179ca60db674c6ca0c7118606c4ea8532da4930dc3a4c4ad9a49a080cfb9a865009e4497729441bc9aff940bf7ea25ef6b80e8949a65b05c845148119bd5e8670508fcce4982193ad79ba1080949b343567aeea142089ec6d193410fc0efe14080d94ea40619c9c351d65e9bcd5df25ac9a809c660675d2da582e998bdf1db354d6804fe91d4bd317569368629720bfcf9990d8864753711c632bcb3307089042da1d9fba792b9cb57eeac07bd17b27f224e9a75ecfb009cb141a5e11ce4224344aabe65364a0bb924d9eede105ade11fa7d67debc3d06e6e9bcf0b8b5c2d9e62c79e65fd7db3feeb54070f0bb7e30a0d41647d03e3b8f39a15d9a083b57b898b483cf5fbe02c1ffd5e04575a3fe4fb3ce3448d8f169a7b69738351b6c91dde2d2cf406a30807474821d888a7bff8c3f2431cc3d91d9e7f6067cc8fcf1efc99557b93d3ac1d899d75636e41d6f6dd76227ca24c389afe5fa38c22950cc2d86c6cce4a1989deeb852a4ff03917959b5cecdc1d6d6cc03f57df0e1044900859e1b4b49106b161ac771e2ed7ba8775b4806c88704322e64e5bc7a64ab8239a4d7eaf8e02727756b57c2bd5b9ea529f64077c1480560e4c379d75e409920c97da5c69c199217a964cd9040446d3cbcb6ad33d73b5734043df07f79d0751f44014ce9e4185ab25f45b7629fffaad3e5d4265a7221000eb0b866149d89a70c6b83e7e08f14c8692c55a450ccf2fefb92c41f9d8c41c12251460e09db4cdd6c361079d30f3bc82e08242b6b6e4029f080516e8e449ff272f0bff56a9d4524d8bd32e7e1fc09f01a6bf0014f67e86757fad3097c80803378bac0a38a90d6db5b3d01285d9a5dda888848f4dd142307284cf8240a13ce90b421946cba6ae49af421b9a6dcf1b5ca3aa7a22a4ebc74b56a6dd5b8db395acc168951f021ad1d7642549a554ffbbc41e225bedaebff02f25c1d26b2a95b7ab6cc793b4602d4cb59e58e95906503e20cca543a404a3da11b6502c40d9b5bdac0ab619207dc5e816c8fc98aea6af2728dbc41e45e4190b90ed7f6193bccf649d17b3b5a572e1515ebc197010db92ef315d7b3ff5bcd00bb4407ad3c3fb05d5c56f7ed25243528a0ead4662c422327a62b0b2a10fc0756970f524792ba04be601075a8fd9ec1a645648ef450090fc9bbfe4cdc6f2c99ee8361604fe986c472d4fa86f0b2ec61b5054885235c0168e7e71acd49c64e3ddc4a1fb778f96cb8998b2f27f098cc002822cbb34a2c389c76e66f2f0bb921199e48cd24cbe56bdd3f7abee85e1cef6f355099df402f55104d21eac98642a1234d13648893e39cc8185d1b7d58a34cc94ebb03ec3312c614d32c2607e859c64a5c8291ac76379bc0717290cc9355339a709925c8e092c90b61cace21bc64a0dacf032af37f2fd8b728f8d7ce0acb685727d57345abdb9b856d86b7bb41179489513f310509a2a6aec7fe398b0e614d6c5f2e3eb5e2311f35b11a6d5729f42c1c9f0e74d08cdce3c2b35d37d41bf60e722679f7b5805b3eaf54869c3af324e50c71b4465e5cae975506a9bd987b24dfcc86af4d267932d7c120947186b70bed4731c1c7cdaa8bc5fa596de2e172e8debea61bc8d62db694d6f2bcc3be9f667418c4bb3375a18087de122d3cff58a5055f11a9f3fa75085e7804f99b9409774f2f96c76f504360d02c030d7be357da644acc9abf4373526272a76f9953d0efe3caad4319ea241e0fdd2a554039379ec2b6b29a563ffa0ba3caf7d923cf089978f6c821aa14f4bfbdce1d0cf6dc1e7bc09ae1dacb3a1a145a2b6535c3fc632580b042c3161345f438f8bcda2e432434fa04c14c46d5c3bee2101e93237656df505f582c63f44344af749fef78da32e4625698078343a2caf5be45f4a94807616bee6a44ee8f7e83e07a1f149aa8a7ab3ae4d68d2c2db07ac50b0ef3c06d6c7547a63b2de25b5fa79c59d7bd6d7d858daa1e5797715b51878135bc22c0f6665392d8baf7d9ef1d02934773f67f5059b51c81faf92a57ad52abcdb8cb1c032d6c252035321dde0fd2f2ccd2cc864456f5a6a214377ac92d00aa4ea942a8654d907628da1944e982a90b8cbd213281b696f33eae8083c271ce0100b0bca98d91947ea6229dd785ec8a549111e08eccf9edfb3497d26e1830fbf69d969e39b9c102f068c4129c7d814c7a1ae73ad0da73983584aab1c5962398e189453b8269d11ed794e95525d2c206ef1523e8c94b6a8e04ba438c3e991bd840215a32dde30203d57f5f857123716887c7568b4a65e9c30c6fd55c8ea5cd79363df1de0ae9d6c6efa1a80cb78e0305433020a1e7a5ffd82f7bf86671223996ff4f6b567fd31619fe4c4f892838a3cec6c1a67350e6fe7d2835104f45575e34b1b0748036d3bb371631aae34c1cd8bbadddc83f60688791c8055293ff2608c7e13ac7e90d30625955ed320d5e63ec65af7a29dd7b558f3bdbb460d52e0d219c58870cc9a6afcd90fbbb9344c10c249a91b2e092a21eea6a242d2d23ec4495aa91b31e89a133e54c15826acad9c318955de60d8486a3962c65b29e906e3cc028b9a7bf6ca00ddfef92d55be30f144306c5bd565b05795334fa2331bd20fbf5160a51b948977f8c7fc63aff4e256b0bf36453df402224ef09278612462a9ec188f04691f1b6c419f24acb1e97fdfd98dd025dc994607ed9029910b0058250ffb0a08f8b33adac03583bffa260c4d5a7d515d77f1ed30abf1fb50c5ebc79238b36f334f2a175aaa8cb0a1f2b7e067eb126a88869e9d03af98758b208d50ec2f4ffa75a313512dd717c3c3ba028a40c381e6f6fa5660380e5e30fcaab439544084176587a08011fd2fc609719a6d23277dd689596ebae08b5439e284bcb086aacafa4ac9b9ac846162648b0919166530be96ea1840b62f8c5ed2145dafb8444167c6e95123590e598b4440fbb701230ed96a8fb730b1fe043b6fbe29a1064ba34c07d77c5ae17e94041736dd10917c439b9160364b9bc629253c5a4a626250f017b1b063dbc38fbe16202d8797395fc9737633bfcc98f20d8f80a1dfd916d964c094b4a848356304a19e2f07c390a950930e7af88dc238f8515d0e7c77307b65a12f473d36eeeac34e226170cc1e1c4fb0d96e8da114fe78d20e25a5494a3f316c031a758c6dc4bab9577df6174a102a825f345a108dcb1aa6b9e6d5a035f57efc763d7d6099e84e4c78a2e45856fc1707e3c93239074a0d5460c1b465c6a53a078facc15f0272c27f8ef92b63ccd666068d7b3b077877d517c8afb69f2de678474f069388a710e35765fe553807f29179e3f72a95ceba2c8d5ea97abc65630d16b3eecf12bc8f25b9129e3306247cb83b8bf70ddc3f89160f1a89f90005637ac8ce40a1f781e063cf68b01c78e241efa9570e707f1cf838c7b30c8232f0cbedb8a0da913f0204b9cee2c7c915e8d64c58880ffe0fa5513724b8a82c982b2c34be148dd62b2a2f343d08c8ecc71d33475ef6582f704965d7f7e47178723a6154bd03a57d960856e88c11ea671f4b14971256841a1b354b2732b9f1a26e1d03cadf453d72f69785797f9bd56e088b68fc1bfc3a4efaf71133fdc96cfe156e015de58d0e52774c6cf625c9bc7e8c119965603e043cb8888322fc4529e551b1f14a93d468d33e33c270a9128d5642dce5d25e2f856c8fe43bb85d75eaab8dce6d57f191249fdfe445371188323a9db1ea038574eb1946eae4a430479f11a675e5dd59bac51dec4d85b1d92a0e557f8b5e41e7518055c3e7d02aba19b7f7f2d54c5f47d153a8f06eb60b70f53047f38de1ed7f0d52c5a59240612c1919da4611e321a6f6fd1862b58bdd1dd5486df17491cd3dc1a12be0c290db421309bdd21d68d15720f9e0c8bb6b00fbf49c602f9d3d71cac236e74a589ea575629b841de95cf9587bd7e7bdd3cd5474f5a79d533f192c5f99455aa69e7127ba7896f96192ec835fc5723289e5ffb1f74972d2f248c40338bee95d9cca30f7cf87a5315b9be68ff7295a0845909ddbbc6d94c977f1c3a07541e8fdcb1c14102ce8addcaf27e4903f13ff3a5c5235b227376d33aaf250fb1923ab354cdaf27afb3f44b927d2dc6723ac6c203be7d6b1aefa6424033caf02c54ebfc92928c7943f26968964fe0746d88c9569b6d26c6814642281e42be2cb0dd261eee046c11bd219c2f0062f025186f783cd9581b1f1ef2d10a93f27b6fe3444b510e3a8831f98ce0509e2bdc85bf1d949d171588b6a7039dd54e710f4d20be2f0e1f6a6e975c125a056040fad72de424afbed1be47ba367f3a094746035a6bc8a6412111f755cb69019837226ea5b8c9707e57a83ae598c2657a6f0bf841365be3ed2017c7eb01340b596d035c768ede11ec8f4ca624b6315c6b4296e1902250ba89af606878f99bfcd3f2d3b81e0fbd6b617ebdfc2fcd94956b10645d7cb8b86ba0b2340bd13e501ce38d0349e034fd6520334e5f33457d9d78b0c6541cae52fe6c34f73a01f0aca286f6a27d8517dc830a5eeacedeb7d450854dd8287a51f68321f93883512f19363dda363dca1de5aef78bfc68a605eff8d3854339d71ffb86e99491651678c5f44cb3424dd6eabfabc5616ea34767b03113fa8af9a33f96279ce410163fc36be95f9a83110a1655ff26e1da98b41feb7f07fdbe3e71ec2553be0335cd691d5055e9615670a1589fe57cfa1ebbf63652b95f85bcb7f5982cf8b15b5a6e269de10a942a9ad44a07d538103ed6f6dd3ca6c5f1aed03a30c4499575435abb6e55e62f45abfa1e4beb07e480df9a05791f5be18449ba738472e04088c13b33a5bd784ec6c6c53787386372b2053c9f15a389b931a7c7843e2ce4df33e4d00a8e6b63c8301f08459ab506d4a9dabec1ea8ab83c2c727efe0716512101a6aeaecf1fbe5ac96ca72bb92e9d155490cba6bdad52ba2fdd57d5ecd6548585766fdde5454681179657400c5dc69f62bb21e79d8781ffa60f683995cd99e1ae936c73440d84f7286023c7c95fb40098c2a28b72fb3fdeb063ca2bc43b9e8cebf72cc3252f7c2ba0bd26cc787e81df81b1a161939eafbcb22043b15d1e0e8023c9753bb952f4a1a9f76953b06fac8f2f81c404f7f2cb8079dfdc6ad3f7eb5e3f23f1c2bb73718c4cf224f56e31c877a12590fc3c90fdbcc02585c69c7afdcba6a7ff14f5bf8f8b469038226dbf7163f533e7353730b3def349b03c39f2c996081e546f0e9f8c3579dea7903e8ddb47a40a990b9fb13493e3bfcebfe3a949b0d61c1f4f9f7463b97090ed8a268c979f2b757857355d3b9fcd13afeea0de1eea72684e86fa139b9db1d07db88b663ea942e6d824eb987d418ad17643a7dad1b0eb7ea5d0137724dfb93b5bc6390dd5c512e15c86e528270e8c46fbe1d40433ba050505a54b4dd641f136a7090d1c70390a8873d3123c55fd9bac042d78e5abed8c20dbcf9313dc39a2d921c91904d45a1def94a6547872b4478418473a913a5cb40595fe4aafeb02033fed9e8930aeb79ca2395ca6637a3c0ff820600e637fec5278c2f9ed51aa6f078475d72fcb781fa24d096146ee2d1f64bdb9157e40ebc5645c9acebd0c97782317e8a09a85ef5a1f98a37bd16f270e5ddd571ae4e2063b2b9d42c6c09687b205e83128fba812d24d374debc5d4b99d76f2902e34d9019bb58985f3f42ae1f21f57c3fe937729aa9aacebb066665531c25e3bd3d5af4cf613acd9771604be6831b6db63cb70682c0fc3a240abb1c9efbaa30ef74d1f629285a1adc273ff28c2ada9aabd9af3a57a05a1f1c83495ac8da389e0e10930e90423723903a4201c15005b389070ead532e032a9a52b5165ba29c271bb9231f254b185d20fc8cb326afb95cb705bcc4a4eb64fd5c0b85ff3af24ebc2052444d2bf9d69b43b2f2b00b54c7c6dcddbf875bb7d9d2120ed3459f9e84783ac4aa995cdd37e526e5c089c9b172f05dd879e09981d9b1440e25b07bb5ecf076ea7446aa835428d6ad081fe997af653850f34208d790f0508afe8e521722dddf437c884284cb21bb40966d6662afee98bc47e531b9ff640346209b2a4766363d38f63609819bc89fa37ad49b88147e908d6c2b04bbb812d4330ae5e4c43f021bbdb5099170387c00fbc5f25737ff94ff20800dc9d192472347b8977475fe57b85b51c8e5cf95aa96612f3d2597e3024eaeec073239ad6609eadecf63afb119ac59b26978a8f4e67288be3757aed39371ac6aa7061cbcfe592fe893caef68e7863848e5e824d88009962a4e962b2ab08707ac94a5a6e359f783be10d1f8e9ebe67ccfdaf6e6d132969556268d54e471980a9734bade31b9839bc479daa8e264fd8bc5f85c3c9090e503a3c2a74c62b8b6649878dc4afcbec71eb84313d386938dd54ce6a0fa00dff6beb13f75987be7869dd477d649fdba9c44b5761ca3d4f23566498f9270011f9f7fb18df349396642904e3d748101c1cc41ba1d8093413de108f781d6a536c43ac98b6bb5f1fbef83b47292e662e383c8a02af54525d3070a27f88db45892b9e229e8120f7c24c0b813595c93f80af7e4bab1ad7ce1d8aec044e6345ee981c37d4ac563ade80f4b190c8ee4b58f76f34fffbde99b8ad8ba7c65a22ff79629598a3ff7154eb0797fa18af2e9d608359a6d858db543f8bbe20571cfdf3c3dc12cd56e35102fbb59f79025598b7a72a9e6efacb5bc1de50099d3d088c374b448b173284b6e6567fae19cf4bb6aeafc635224c035ff4f1de20c73f98ed65965229917fd8565d2935a3a8c9a321d6f4eee644792fc7a44c2906809fd10513ec841c7811026791ece9b9680e84b6ad1ee3eaaad0142e03442d52005320ed9190e968e885fe039e027527f9850fcefee5849124ac928fe434b46172d8560f1574832cf64f975abacac56ff9c60f240b48ddcfef0b5d1862b7ce915cdf9fffe3df5b901717f3c2873eab6f771321931616c274cded1fb655d215e0945da71e4910095a830a11382424dde66b9110a6e6f80d5efeee22bba4810de1fb476923289b5c3287c540a3f627ed00b6a6db5824ffe3a32cd3c66cc003604af619052e06d90aaa7df0ea4e479760318a15a4cd166f02ef9459ab421b82180af0452df193a79778999c5294a6d3a416e11f0e130c9d5ea93767cb63efe1dd4b04fdda6758fdc63d790d7a1374345ca798b9e4526d687ecf6a9300b5de0571212b61ea126db38a7f8e57d110fe66841deceb1f75b9ec6be9645ec1c2c038647e55e8f3770ae9a0b0c30edec297a741abdb74b263f8121646a9ede55747f77c8517ecba5b0b8304e77843ecdb09ff4c4939516bf0bd7182be5452a23fcbe4cf212cbb20e86d20be63f1bbb71165aa0877d5260cadf135c4a05183944ad6449ed2d6083f4e5ae70c600b358e9d65ae987e7f840eced6b8adc14035343f5983721cba0572e6ebd7b637145b418013c951d17e3f348908e0ce19b61e54ff86400831a2acf0f3cac6ec0ddf3e63b0ad28b650f3361b1e5cb2e318af6b5dd3153c34cac31e3919c12241309e3377f93d38ba3b2cf89e6f663c4d6521c38518a9727c2e06bbf3cc9755152d6c2e4165db1a6778838d274c402d3f1e30cbf77b50472e1ea67e7777f9acac622461744d243befdcd5d6ad9bb7b5adf6375cb0c963e9883fe765fba218602c25dc05736e9c2e830420178613c53ebb8cda2e0fb43c50e8570cecc4f4818f514433875025c07ea63d1b0caa61da270e3091cbd787dc5e77bbd85bf4bf2362e7da3baa048599c5a6cb4fbf72f30c08ac14af7799a1f929c09832c4e7fd27785a92271b4e8a64cb40dfe81f3ea468f3ddc052d2ebe507c54e3fb073d68911983d32ec397a6f67214cb6f605fac398fe39b73cc1eb7ac64dac78496e38b02b4a1146ea57121cee344103891deddc2b9b4bb39c37862584362efe6f94b8f5fd843bc97c70f66ff875d7ea4489e3a54613e3bb5e8e7890cae03b7708aa9a7917d938027c38b95067b3034bfaa895cf60d5cf1da91ee6d139dbba26d76673dd89fb42975b74953af02370bea48e91747a2be95a3ac7a6c866a3edf898315c332836871d6e84a4b3dcc4c08d89790f5257e57854fda0ff16ef837e973694fef5a120258e25d0bfbb1c15f274ccd09aa28ea45c9fa54a70436a4e70e6959db648a993498a9263c1fddaa54abf272435dfdc176884dbc6eebc0cd40c8478a88843fd58546717c21c81908fb7347cb71180a43292d36c1d1253da3a051f23be6e9c5a7f6a0f304784f5939dfb094508f329c0dc831fac1ae95f71fb1d65b955384d3c27aa44287e0798c35ac90c70d6d7a5c91a2e27d3da7f1b1787aa23d98851820506331e87a0613147fe2d68a7b93f0e2a17121b1c28b505fede6ee6c426fa7bafb33665a52ac8d7b4dc92cb090f649909698b12bf8d97966cc200f243cc3de744be9fac19c44f3783a57fca8518fbfcafe1cbf18983e84d3cfd278819d4390937a38fe0083896c4a72db500648d97fa1158ca60eba7ce454e9535dae12b8a5f4bcf8ac26bc981f4e2086dcb303a75e30a6cd3dc0bbc46618e2cdfec2217196ffa2af3004ab4da2128285be97fefbb73700581b0995265bf3ecb23a8cbf75438af","isRememberEnabled":false,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"69172811740415008270965e4268f08d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
